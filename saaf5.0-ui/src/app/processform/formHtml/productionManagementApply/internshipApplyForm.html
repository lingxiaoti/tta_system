<!-- Created by lijiayao on 2018-08-20 -->
<div ng-controller="internshipApplyFormCtrl" class="gridtable">
    <div class="data-table" id="processForm" data-api-post="saveOaWorkshopPractice"
         data-api-get="findOaWorkshopPracticeById" data-api-del="" data-api-update="updateOaWorkshopPractice">
        <div class="col-md-12 pt15">
            <h5 class="fontwB"><span class="fa fa-cog mr15"></span>申请信息</h5>
            <div resp-change="" class="col-xs-6 col-md-4 col-lg-3" data-load-callback="respCallback" style="display: none"></div>
            <div class="row">
                <div search-list
                     data-col="4"
                     data-legend="[
                        {key:'deptName',label:'申请部门',readonly:true,required:true},
                        {key:'personName',label:'申请人',readonly:true,required:true},
                        {key:'positionName',label:'职位',readonly:true,type:'lov',target:'#positionByPersonModel',required:true,css:'readonly-white'},
                        {key:'billNo',label:'申请单号',readonly:true},
                        {key:'requestTime',label:'申请时间',type:'time',disabled:true},
                        {key:'statusStr',label:'状态',readonly:true},
                        ]"
                     ng-model="formParams"
                ></div>
            </div>
            <div class="row">
                <div search-list
                     data-col="4"
                     data-legend="[
                        {key:'traineeName',label:'实习人员姓名',required:true,maxlength:50,placeholder:' '},
                        {key:'traineeDeptName',label:'实习部门',required:true,type:'lov',target:'#internshipDept',readonly:true,css:'readonly-white'},
                        {key:'traineePositionName',label:'实习职位',required:true,maxlength:50,placeholder:' '},
                    ]"
                     ng-model="formParams"
                ></div>
                <!-- <div class="input-group input-group-xs" style="padding-right:12px;padding-left:15px;margin-left:-4px" 
                ng-if="formParams.traineeDeptName != undefined && formParams.traineeDeptName != ''">
                    <label class="input-group-addon bn"><span
                            class="w100"><i class="red">*</i>实习职位</span></label>
                    <input class="form-control readonly-white" ng-model="formParams.traineePositionName" name="traineePositionName" required ng-readonly="true"/>
                    <span class="input-group-btn">
                    <button class="btn btn-default" data-toggle="modal" data-target="#internshipPos" >
                        <i class="fa fa-search"></i></button>
                    </span>
                </div> -->
            </div>
            <div class="row">
                <div class="form-group col-xs-6 col-md-12">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span
                                class="w100">其它需求</span></label>
                        <textarea class="form-control" rows="1" auto-textarea="" ng-model="formParams.otherNeeds" maxlength="200" placeholder="字数限制200"  name="otherNeeds" style="height: auto"></textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-xs-6 col-md-12">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span
                                class="w100">申请原因</span></label>
                        <textarea class="form-control" rows="1" auto-textarea="" ng-model="formParams.applyReason" maxlength="500" placeholder="字数限制500"  name="applyReason" style="height: auto"></textarea>
                    </div>
                </div>
            </div>
            <div class="pt15">
                <h5 class="fontwB">
                    <span class="fa fa-cog mr15"></span>实习内容
                    <button type="button" class="btn btn-default btn-xs pull-right"
                            ng-hide="formType === 'readonly' || action === 'detail'"
                            ng-click="tableEndit.addTableRows()"><i class="fa fa-plus">增加</i></button>
                </h5>
                <div base-data-table-edit="tableEndit"
                    data-legend="[
                        {value:'content',name:'实习内容',required:true,maxlength:200,placeholder:' ',callback:'getTitle',title:''},
                        {value:'startDate',name:'预计实习开始时间',required:true,type:'time','date':'yyyy-mm-dd',endDate:'endDate'},
                        {value:'endDate',name:'预计实习结束时间',required:true,type:'time','date':'yyyy-mm-dd',startDate:'startDate'},
                        {value:'expectedEffect',name:'预计需达到效果',required:true,maxlength:200,placeholder:' ',callback:'getTitle'},
                    ]"
                    data-form-params-key="items"
                    ng-model="formParams">
                </div>
            </div>
        </div>
        <div class="col-md-12 hook-normal">
            <div saaf-file="" data-label="<h5 class='fontwB'><span class='fa fa-cog mr15'></span>附件列表</h5>"
                 data-file-data="fileData.file"
                 data-file-filter='{{fileType}}'
                 data-view-only="fileViewOnly"
            ></div>
        </div>
    </div>
    <div lov-list="applicant" role="dialog" data-title="请选择实习部门" id="internshipDept" ng-model="code3"
        class="  "
        data-url="orgFindDeptInfo"
        data-auto-request="false"
        data-dynamic-params='ljyParams1'
        data-return-value="formParams.traineeDeptName"
        data-return-key="formParams.traineeDeptId"
        data-callback="getDepartment"
        data-pagination="{'pageIndex':'1','pageRows':'5'}"
        data-checked-type="radio"
        data-keys="{'key':'departmentCode','value':'departmentName',name:'部门名称'}"
        data-show-index="false"
        data-type="competitor"
        data-search-key="[{'key':'departmentName','placeholder':'部门名称'}]"
    >
    </div>
    <div lov-list="department" role="dialog" data-title="请选择实习职位" id="internshipPos" ng-model="code2"  class="  "
        data-url="findBasePositionNewPagination"
        data-auto-request="false"
        data-dynamic-params='ljyParams'
        data-return-value="formParams.traineePositionName"
        data-return-key="formParams.traineePositionId"
        data-pagination="{'pageIndex':'1','pageRows':'5'}"
        data-checked-type="radio"
        data-keys="{'key':'positionId','value':'positionName',name:'职位名称'}"
        data-show-index="false"
        data-type="competitor"
        data-search-key="[{'key':'positionName','placeholder':'职位名称'}]"
        >
    </div>
</div>


