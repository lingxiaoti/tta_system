<!-- Created by lijiayao on 2018-08-20 -->
<div ng-controller="selfDriveSubsidiesApplyFormCtrl" class="gridtable">
    <div class="data-table" id="processForm" data-api-post="saveOrUpdateOaHrCarSelfDrive"
         data-api-get="findOaHrCarSelfDriveDetailById" data-api-del=""  data-api-update="updateOaHrCarSelfDrive">
        <div class="col-md-12 pt15">
            <h5 class="fontwB"><span class="fa fa-cog mr15"></span>申请信息</h5>
            <div resp-change="" class="col-xs-6 col-md-4 col-lg-3" style="display: none"></div>
            <div class="row">
                <div search-list
                     data-col="4"
                     data-legend="[
                        {key:'deptName',label:'申请部门',readonly:true,required:true},
                        {key:'personName',label:'申请人',readonly:true,required:true},
                        {key:'positionName',label:'职位',readonly:true,type:'lov',target:'#positionByPersonModel',required:true,css:'readonly-white'},
                        {key:'billNo',label:'申请单号',readonly:true},
                        {key:'requestTime',label:'申请时间',type:'time',disabled:true},
                        {key:'statusStr',label:'状态',readonly:true},
                        ]"
                     ng-model="formParams"
                ></div>
            </div>
            <div class="row">
                <div search-list
                     data-col="4"
                     data-legend="[
                        {key:'leavStd',label:'原差旅费标准',required:true,validFormat:'number=-1',maxlength:'20',placeholder:' '},
                        {key:'factNum',label:'实际产生差旅费',required:true,validFormat:'number=-1',maxlength:'20',placeholder:' '},
                        {key:'money',label:'申请金额',required:true,validFormat:'number=-1',maxlength:'20',placeholder:' '},
                    ]"
                     ng-model="formParams"
                ></div>
            </div>
            <div class="row">
                <div class="form-group col-xs-6 col-md-12">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span
                                class="w100"><i class="red">*</i>申请原因</span></label>
                        <textarea class="form-control" rows="1" auto-textarea="" ng-model="formParams.carReason" maxlength="200" placeholder="字数限制200" required name="carReason" style="height: auto"></textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div resp-change="" class="col-xs-6 col-md-4 col-lg-3" style="display: none"></div>
                    <h5 class="fontwB">
                        <span class="fa fa-cog mr15"></span>自驾车信息
                        <button type="button" class="btn btn-default btn-xs pull-right"
                                ng-hide="formType === 'readonly' || action === 'detail'"
                                ng-click="tableEndit.addTableRows()"><i class="fa fa-plus">增加</i></button>
                    </h5>
                    <div base-data-table-edit="tableEndit"
                        data-legend="[
                            {value:'carDesc',name:'自驾车型',required:true,target:'#assetMaterialModel',maxlength:'50',placeholder:' '},
                            {value:'carMode',name:'发动机模式(是否增压)',type:'lookCode',lookCode:'OA_CAR_MODE',required:true},
                            {value:'carGearBox',name:'手动档或自动档',type:'lookCode',lookCode:'CAR_GEAR_BOX',required:true},
                            {value:'drvYear',name:'自驾车车龄(年)',validFormat:'number=-1',maxlength:'10',placeholder:' '},
                            {value:'carOil',name:'自驾车百公里耗油升数',validFormat:'number=-1',maxlength:'10',placeholder:' '},
                        ]"
                        data-form-params-key="items"
                        ng-model="formParams">
                    </div>
                </div>
                <div class="col-md-12 hook-normal">
                    <div saaf-file="" data-label="<h5 class='fontwB'><span class='fa fa-cog mr15'></span>附件列表</h5>"
                         data-file-data="fileData.file"
                         data-file-filter='{{fileType}}'
                         data-view-only="fileViewOnly"
                    ></div>
                </div>
            </div>
        </div>
    </div>
</div>