<div ng-controller="departmentDetailCtrl" class="gridtable">
    <div class="bg-gray-white bt">
        <div class="bg-gray-white p5">
            <div class="btn-group btn-group-xs pull-right ml10" id="outputButton">
                <div resp-change="" style="display: none"></div>
                <button type="button" ng-click="btnSave()" permission-btn="btnSave" data-validate-form="addForm"
                        class="btn btn-default">
                </button>
            </div>
            <div class="btn-group btn-group-xs ">
                <button class="btn btn-primary" ng-click="fullWindow($event)">
                    <i class="fa fa-square-o"></i>{{$l('数据全屏')}}
                </button>
            </div>
        </div>
    </div>
    <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
        <div class="nicescroll-height  bg-white " ng-nicescroll
             nice-option="{{niceOpction}}"
             data-des="此节点必需-滚动内容及指令">

            <!--------------------- 输入表单  --->

            <form name="addForm" class=" mt10 pb5 bb oh"
                  data-des="此节点必需－用于识别输入表单的指令">

                <header class="col-xs-12 mb10">
                    <i class="fa fa-cog" aria-hidden="true"></i>
                    <span>部门信息</span>
                </header>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100">组织名称</span></label>
                        <input type="text" class="form-control radius3" readonly ng-model="department.ouName">
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100">部门编码</span></label>
                        <input type="text" class="form-control radius3" readonly ng-model="department.departmentCode">
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>部门类型</span></label>
                        <div lookup-code="DEPARTMENT_TYPE" required="true" name="departmentType" ng-model="department.departmentType"></div>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>部门层级</span></label>
                        <input type="text" min="1" number="2" class="form-control radius3" ng-model="department.departmentLevel" name="departmentLevel" required>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>部门名称</span></label>
                        <input type="text" class="form-control radius3" ng-model="department.departmentName" ng-readonly="department.departmentCode" name="departmentName" required>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100">部门名称后缀</span></label>
                        <input type="text" class="form-control radius3" ng-model="department.suffix">
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>渠道</span></label>
                        <div lookup-code="CHANNEL_TYPE" required="true" name="channelCode" ng-model="department.channel" ng-disabled="department.departmentCode"></div>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>业务类型</span></label>
                        <div lookup-code="BUSINESS_TYPE" required="true" name="bizLineType" ng-model="department.bizLineType" ng-disabled="department.departmentCode"></div>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>上级部门</span></label>
                        <input type="text" class="form-control radius3 readonly-white" required="true" name="parentDepartmentName" ng-model="department.parentDepartmentName" readonly>
                        <span class="input-group-btn ng-scope">
                            <button type="button" data-toggle="modal" data-target="#upDepartment" ng-disabled="department.departmentCode"
                                    class="btn btn-default"><i class="fa fa-search"></i></button>
                        </span>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100">成本中心</span></label>
                        <!--<input type="number" min="0" class="form-control radius3"
                               ng-model="department.costCenter" name="costCenter" required>-->
                        <input type="text" class="form-control radius3 readonly-white"  name="centerName" ng-model="centerName" readonly>
                        <span class="input-group-btn ng-scope">
                            <button type="button" data-toggle="modal" data-target="#costOfCenter"
                                    class="btn btn-default"><i class="fa fa-search"></i></button>
                        </span>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>启用库存管理</span></label>
                        <input type="text"  class="form-control radius3" lookup-code="YES_OR_NO"
                               ng-model="department.inventoryEnable" name="inventoryEnable" required>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>排序号</span></label>
                        <input type="text" min="1" number="2" class="form-control radius3"
                               ng-model="department.departmentSeq" name="departmentSeq" required>
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>生效日期</span></label>
                        <input class="form-control radius3" ng-model="department.dateFrom" date-time-picker
                               name="dateFrom" required data-is-today="true" autocomplete="off"
                               data-min-view="2" data-date-format="yyyy-mm-dd" data-enddate="{{department.dateTo}}">
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>失效日期</span></label>
                        <input class="form-control radius3" ng-model="department.dateTo" date-time-picker
                               name="dataTo" required autocomplete="off"
                               data-min-view="2" data-date-format="yyyy-mm-dd" data-stratdate="{{department.dateFrom}}">
                    </div>
                </div>
                <div class="form-group col-xs-4 col-md-4">
                    <div class="input-group input-group-xs">
                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>是否生效</span></label>
                        <label class="radio-inline" ng-click="changeEnableFlag('Y')">
                            <input type="radio" name="enableFlag" value="Y" ng-model="department.enableFlag"
                                   ng-checked="department.enableFlag=='Y'">是
                        </label>
                        <label class="radio-inline" ng-click="changeEnableFlag('N')">
                            <input type="radio" name="enableFlag" value="N" ng-model="department.enableFlag"
                                   ng-checked="department.enableFlag=='N'">否
                        </label>
                    </div>
                </div>
                <!--<div class="form-group col-xs-12 col-md-12">-->
                    <!--<div class="input-group input-group-xs">-->
                        <!--<label class="input-group-addon bn"><span class="w100">备注</span></label>-->
                        <!--<textarea class="form-control radius3" ng-model="department.remarks" style="height: 50px;"></textarea>-->
                    <!--</div>-->
                <!--</div>-->
            </form>
        </div>
    </div>

    <div lov-list role="dialog" data-title="请选择部门" id="upDepartment" ng-model="upDeptModel" class=""
         data-url="orgFindDeptInfo"
         data-auto-request="false"
         data-dynamic-params="{respId:respId}"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-callback="selectUpDept"
         data-cancel-callback="clearDeptSel"
         data-checked-type="radio"
         data-keys="{'key':'departmentId','value':'departmentName',hide:'true'}" data-other-column="[{'name':'部门编码','key':'departmentCode'},{'name':'部门名称',key:'departmentName'},{'name':'后缀',key:'suffix'}]"
         data-show-index="false"
         data-type="competitor"
         data-search-key="[{'key':'departmentName','placeholder':'部门名称'}]"
    >
    </div>
    <div lov-list role="dialog" data-title="请选择成本中心" id="costOfCenter" ng-model="costModel" class=""
         data-url="findCuxBcFinCostcenterList"
         data-auto-request="false"
         data-dynamic-params="{respId:respId}"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-callback="selectCost"
         data-cancel-callback="clearCostSel"
         data-checked-type="radio"
         data-keys="{'key':'glAccount','value':'glAccountDesc',hide:'true'}"
         data-other-column="[{'name':'成本中心编码','key':'glAccount'},{'name':'成本中心描述',key:'glAccountDesc'}]"
         data-show-index="false"
         data-type="competitor"
         data-search-key="[{'key':'glAccount','placeholder':'请输入成本中心编码'}]"
    >
    </div>
</div>
