<div ng-controller="cmsActionMessageCtrl">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="btn-group btn-group-xs pull-right ml10" id="outputButton">
                    <button class="btn btn-default " ng-if="saafPageButtons.save" ng-click="changeFlag()"><i class="fa fa-save"></i>保存</button>
                    <button class="btn btn-default " ng-if="saafPageButtons.messageAdd" ng-click="addAll()"><i class="fa fa-plus"></i>新增</button>
                    <button class="btn btn-default" ng-click="cmsActionMessageTable.getData()"><i class="fa fa-search"
                                                                                                  aria-hidden="true"></i>搜索
                    </button>
                    <button class="btn btn-default ng-scope" ng-click="reset()"><i class="fa fa-rotate-right"></i>重置
                    </button>
                    <button class="btn btn-default" ng-if="saafPageButtons.export"  ng-click="cmsActionMessageTable.xlsExport()"><i class="fa fa-download"></i>导出</button>
                </div>
                <div class="btn-group btn-group-xs ">
                    <button class="btn  btn-warning" ng-click="moreInput($event)"><i
                            class="fa fa-chevron-circle-down"></i>高级查询
                    </button>
                    <button class="btn btn-primary" ng-click="fullWindow($event)"><i class="fa fa-square-o"></i>数据全屏
                    </button>
                </div>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option="{cursorcolor: '#1e90c2'}" data-des="此节点必需-滚动内容及指令">
                <!--------------------- 输入表单  --->
                <form ng-submit="cmsActionMessageTable.getData()">
                    <div class=" mt10 pb5 input-form bb oh" input-form data-des="此节点必需－用于识别输入表单的指令">
                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span>发送项目：</span></label>
                                <input type="text" class="form-control radius3" placeholder=""
                                       ng-model="params.varActionName">
                                <span class="input-group-btn" saaf-lov="" data-return-value1="params.varActionName"
                                      saaf-lov-option="{

                                   dataUrl:'queryActionCode',
                                   params:{},
                                   searchLabel1:'发送项目:',
                                   searchColName1:'actionName',
                                   label1:'发送项目',
                                   colName1:'actionName',
                                   returnColName1:'actionName'}">
                                   </span>
                            </div>
                        </div>
                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="pl10">生效日期：</span></label>
                                <input type="text" id="varStartDateActive" date-time-picker
                                       data-date-format="yyyy-mm-dd"
                                       data-min-View="2" class="form-control radius3" placeholder=""
                                       ng-model="params.varStartDateActive">
                            </div>
                        </div>
                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="pl10">结束日期：</span></label>
                                <input type="text" id="varEndDateActive" date-time-picker data-date-format="yyyy-mm-dd"
                                       data-min-View="2" class="form-control radius3" placeholder=""
                                       ng-model="params.varEndDateActive">
                            </div>
                        </div>
                        <input type="submit" hidden>
                    </div>
                    <button hidden></button>
                </form>
                <!--------------------- ./  输入表单  --->
                <!--------------------- ./  数据　相关html代码，请写在这里面 ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓　  --->
                <div class="data-table">
                    <table saaf-table="cmsActionMessageTable"
                           data-url="CmsActionMessageFind"
                           data-params="params"
                           class="table table-bordered table-hover table-condensed">
                        <thead class="bg-gray-white">
                        <tr class="text-center">
                            <th>序号</th>
                            <th>发送项目</th>
                            <th>电子邮件</th>
                            <th>站内消息</th>
                            <th>手机短信</th>
                            <!-- <th>微信</th> -->
                            <th>生效日期</th>
                            <th>失效日期</th>
                        </tr>
                        </thead>
                        <tbody ng-show="!cmsActionMessageTable.data">
                        <tr>
                            <td style="height: 200px" colspan="100"></td>
                        </tr>
                        </tbody>
                        <tbody ng-show="cmsActionMessageTable.data">
                        <tr ng-repeat="row in cmsActionMessageTable.data"
                            ng-class="{'active':cmsActionMessageTable.selectRow==$index}"
                            ng-click="cmsActionMessageTable.selectRow=$index">
                            <td ng-bind="(cmsActionMessageTable.curIndex-1)*cmsActionMessageTable.pageSize+$index+1"
                                style="width: 50px">1
                            </td>
                            <td>{{row.actionName}}</a></td>
                            <td>
                                <input type="checkbox" name="radiobutton" ng-model="row.emailTemplateFlag"
                                       ng-model="{{row.emailTemplateFlag}}" ng-false-value="'N'" ng-true-value="'Y'"
                                       ng-click="cmsActionMessageTable.selectRow=$index;checkboxClick()">
                                <a style="color:#ff5715 ; cursor:pointer"
                                   ng-click="cmsActionMessageTable.selectRow=$index;linkToLine_email(row)">编辑模板</a>
                            </td>
                            <td>
                                <input type="checkbox" name="radiobutton" ng-model="row.sitemsgTemplateFlag"
                                       ng-model="{{row.sitemsgTemplateFlag}}" ng-false-value="'N'" ng-true-value="'Y'"
                                       ng-click="cmsActionMessageTable.selectRow=$index;checkboxClick()">
                                <a style="color:#ff5715 ; cursor:pointer"
                                   ng-click="cmsActionMessageTable.selectRow=$index;linkToLine_web(row)">编辑模板</a>
                            </td>
                            <td>
                                <input type="checkbox" name="radiobutton" ng-model="row.phonemsgTemplateFlag"
                                       ng-model="{{row.phonemsgTemplateFlag}}" ng-false-value="'N'" ng-true-value="'Y'"
                                       ng-click="cmsActionMessageTable.selectRow=$index;checkboxClick()">
                                <a style="color:#ff5715 ; cursor:pointer"
                                   ng-click="cmsActionMessageTable.selectRow=$index;linkToLine_phone(row)">编辑模板</a>
                            </td>
                            <!-- <td >
                                 <input type="checkbox" name="radiobutton"  ng-model="row.wechatTemplateFlag" ng-false-value="'N'" ng-true-value="'Y'" >
                                 <a style="text-decoration: underline; cursor:pointer" ng-click="linkToLine(row)">编辑模板</a>
                             </td> -->

                            <td>{{row.startDateActive}}</td>
                            <td>{{row.endDateActive}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <div saaf-table-tfoot="cmsActionMessageTable"></div>
                </div>
            </div>
        </div>
    </div>
    <!--  ************* 新增弹出框   start ******************* -->
    <form class="" name="editForm" ng-submit="saveAll()">
        <div class="modal fade" id="addModal" data-backdrop="static" tabindex="-1" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close"
                                data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title" id="myModalLabel">
                            新增数据
                        </h4>
                    </div>
                    <div class="modal-body">


                        <div class="form-group col-xs-11 col-md-12">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>发送项目：</span>
                                </label>
                                <input type="text" class="form-control radius3" name="cityName"
                                       ng-model="current.actionName" required>
                                <span class="input-group-btn" saaf-lov="" data-return-value1="current.actionName"
                                      data-return-value2="current.actionCode"
                                      data-return-value3="current.actionId"
                                      saaf-lov-option="{
                                                dataUrl:'queryActionCode',
                                                params:{},
                                                searchLabel1:'发送项目:',
                                                searchColName1:'actionName',
                                                label1:'发送项目',
                                                colName1:'actionName',
                                                returnColName1:'actionName',returnColName2:'actionCode',returnColName3:'actionId',}">
                                            </span>
                            </div>
                        </div>

                        <div class="form-group col-xs-11 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>生效日期：</span></label>
                                <input type="text" id="currentData_startDateActive" date-time-picker=""
                                       data-min-View="2" data-date-format="yyyy-mm-dd" required
                                       class="form-control radius3"
                                       ng-model="current.startDateActive"/>
                            </div>
                        </div>

                        <div class="form-group col-xs-11 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">结束日期：</span></label>
                                <input type="text" id="currentData_endDateActive" class="form-control radius3"
                                       ng-model="current.endDateActive" date-time-picker="" data-min-View="2"
                                       data-date-format="yyyy-mm-dd"/>
                            </div>
                        </div>

                        <div class="form-group col-xs-11 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">电子邮件模板：</span></label>
                                <select class="form-control radius3" ng-model="current.emailTemplateFlag">
                                    <option></option>
                                    <option value="Y">启用</option>
                                    <option value="N">禁用</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group col-xs-11 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">站内消息模板：</span></label>
                                <select class="form-control radius3" ng-model="current.sitemsgTemplateFlag"
                                >
                                    <option></option>
                                    <option value="Y">启用</option>
                                    <option value="N">禁用</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group col-xs-11 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">手机短信模板：</span></label>
                                <select class="form-control radius3" ng-model="current.phonemsgTemplateFlag"
                                >
                                    <option></option>
                                    <option value="Y">启用</option>
                                    <option value="N">禁用</option>
                                </select>
                            </div>
                        </div>

                        <!--<div class="form-group col-xs-11 col-md-6">-->
                        <!--<div class="input-group input-group-xs">-->
                        <!--<label class="input-group-addon bn">-->
                        <!--<span class="w100">微信消息模板：</span>-->
                        <!--</label>-->
                        <!--<select class="form-control radius3" ng-model="currentData.wechatTemplateFlag">-->
                        <!--<option value="Y">启用</option>-->
                        <!--<option value="N">禁用</option>-->
                        <!--</select>-->
                        <!--</div>-->
                        <!--</div>-->

                        <div class="cb"></div>

                    </div>
                    <div class="modal-footer">
                        <div style="text-align: center;">
                            <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                    aria-label="Close" ng-click="cmsActionMessageTable.getData()"><span
                                    class="fa ">取消</span>
                            </button>
                            <button id="saveAll" type="submit" class="btn btn-primary btn-sm"><span>保存</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!--  ********************* 新增弹出框   end  *********************** -->

    <!--    **********************     弹出框  start   *******************      -->
    <form class="" name="editForm" ng-submit="save()">
        <div class="modal fade" id="emailModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
             aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"
                                aria-hidden="true">&times;</button>
                        <h4 class="modal-title">
                            编辑电子邮件模板
                        </h4>
                    </div>
                    <div class="modal-body ">
                        <div class="pl30 pr30">
                            <div class="row">

                                <div class="form-group col-xs-11 col-md-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100 "><i class="red">*</i>变量标签：</span></label>
                                        <input required type="text" class="form-control radius3" name="variableLabel"
                                               ng-model="dataTable.variableLabel" ng-disabled="flag">
                                    </div>
                                </div>

                                <div class="form-group col-xs-11 col-sm-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100"><i class="red">*</i>电子邮件标题：</span></label>
                                        <input type="text" class="form-control radius3" name="advertisementName"
                                               ng-model="dataTable.title" required>
                                    </div>
                                </div>

                                <div class="form-group col-xs-11 col-sm-12">
                                    <div class="input-group input-group-xs w">
                                        <label class="input-group-addon bn"> <span
                                                class="w100"><i class="red">*</i> 内容：</span></label>
                                        <textarea ng-click="" class=" ueditor w" config="_simpleConfig"
                                                  ng-model="dataTable.content"></textarea>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div style="text-align: center;">
                            <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                    aria-label="Close" ng-click="cmsActionMessageTable.getData()"><span
                                    class="fa ">取消</span>
                            </button>
                            <button id="saveEmail" ng-if="saafPageButtons.detailsave"  type="submit" class="btn btn-primary btn-sm"><span>保存</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!--    **********************     弹出框  end   *******************      -->

    <!--    **********************     弹出框  start   *******************      -->
    <form class="" name="editForm" ng-submit="save()">
        <div class="modal fade" id="webModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
             role="dialog"
             aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"
                                aria-hidden="true">&times;</button>
                        <h4 class="modal-title">
                            编辑站内消息模板
                        </h4>
                    </div>
                    <div class="modal-body ">
                        <div class="pl30 pr30">
                            <div class="row">
                                <div class="form-group col-xs-11 col-md-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100 "><i class="red">*</i>变量标签：</span></label>
                                        <input required type="text" class="form-control radius3" name="variableLabel"
                                               ng-model="dataTable.variableLabel" ng-readonly="flag">
                                    </div>
                                </div>

                                <div class="form-group col-xs-11 col-sm-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100"><i class="red">*</i>站内信息标题：</span></label>
                                        <input type="text" class="form-control radius3" name="advertisementName"
                                               ng-model="dataTable.title" required>
                                    </div>
                                </div>

                                <div class="form-group col-xs-11 col-sm-12">
                                    <div class="input-group input-group-xs w">
                                        <label class="input-group-addon bn"> <span
                                                class="w100"><i class="red">*</i> 内容：</span></label>
                                        <textarea ng-click="" class=" ueditor w" config="_simpleConfig"
                                                  ng-model="dataTable.content"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div style="text-align: center;">
                            <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                    aria-label="Close" ng-click="cancel()"><span class="fa ">取消</span>
                            </button>
                            <button id="saveWeb" ng-if="saafPageButtons.detailsave" type="submit" class="btn btn-primary btn-sm">
                                <span>保存</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!--    **********************     弹出框  end   *******************      -->

    <!--    **********************     弹出框  start   *******************      -->
    <form class="" name="editForm" ng-submit="save()">
        <div class="modal fade" id="phoneModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
             role="dialog"
             aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"
                                aria-hidden="true">&times;</button>
                        <h4 class="modal-title">
                            编辑手机短信模板
                        </h4>
                    </div>
                    <div class="modal-body ">
                        <div class="pl30 pr30">
                            <div class="row">
                                <div class="form-group col-xs-11 col-md-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100 "><i class="red">*</i>变量标签：</span></label>
                                        <input type="text" class="form-control radius3" name="variableLabel"
                                               required ng-model="dataTable.variableLabel" ng-readonly="flag">
                                    </div>
                                </div>

                                <div class="form-group col-xs-11 col-sm-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100"><i class="red">*</i>手机短信标题：</span></label>
                                        <input type="text" class="form-control radius3" name="advertisementName"
                                               ng-model="dataTable.title" required>
                                    </div>
                                </div>

                                <div class="form-group col-xs-11 col-sm-12">
                                    <div class="input-group input-group-xs w">
                                        <label class="input-group-addon bn"> <span
                                                class="w100"> <i class="red">*</i>内容：</span></label>
                                        <textarea ng-click="" class=" ueditor w" config="_simpleConfig"
                                                  ng-model="dataTable.content"></textarea>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div style="text-align: center;">
                            <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                    aria-label="Close" ng-click="cancel()"><span class="fa ">取消</span>
                            </button>
                            <button id="savePhone"  ng-if="saafPageButtons.detailsave" type="submit" class="btn btn-primary btn-sm">
                                <span>保存</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!--    **********************     弹出框  end   *******************      -->
</div>