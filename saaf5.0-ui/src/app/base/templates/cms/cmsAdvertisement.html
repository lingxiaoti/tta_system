<div ng-controller="cmsAdvertisementCtrl" class="bigdata">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <!-- <div user-button data-des="此节点必需－用户的按钮指令"></div>-->
        <!---------------------  / .按钮  --->
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class=" pull-right " id="outputButton">
                    <div class="btn-group btn-group-xs">
                        <button class="btn btn-default" ng-click="dataTable.search(1)"><i class="fa fa-search"
                                                                                          aria-hidden="true"></i>搜索
                        </button>
                        <button class="btn btn-default ng-scope" ng-click="dataTable.restore()"><i
                                class="fa fa-rotate-right"></i>重置
                        </button>
                    </div>


                    <div  class="btn-group btn-group-xs ml10" permission-buttons="btnNew,btnModify,btnDel">

                    </div>

                </div>
                <div class="btn-group btn-group-xs ">
                    <button class="btn  btn-warning" ng-click="moreInput($event)"><i
                            class="fa fa-chevron-circle-down"></i>高级查询
                    </button>
                    <button class="btn btn-primary" ng-click="fullWindow($event)"><i class="fa fa-square-o"></i>数据全屏
                    </button>
                </div>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option="{cursorcolor: '#1e90c2'}" data-des="此节点必需-滚动内容及指令">
                <!--------------------- 输入表单  --->
                <form ng-submit="dataTable.search(1)">
                    <div class=" mt10 pb5 input-form bb oh" input-form data-des="此节点必需－用于识别输入表单的指令">

                        <div class="form-group col-xs-4 col-md-4">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="pl10">位置</span></label>
                                <div lookup-code="CAROUSEL_POSITION" ng-model="params.carouselPosition"></div>
                            </div>
                        </div>
                        <div class="form-group col-xs-4 col-md-4">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="w100 ">是否显示</span></label>
                                <div lookup-code="YES_OR_NO" ng-model="params.displayFlag"></div>

                            </div>
                        </div>
                        <!--<div class="form-group col-xs-4 col-md-4">-->
                        <!--<div class="input-group input-group-xs">-->
                        <!--<label class="input-group-addon bn"><span-->
                        <!--class="pl10">生效日期从</span></label>-->
                        <!--<input type="text" class="form-control radius3" id="startDateActive" date-time-picker-->
                        <!--data-date-format="yyyy-mm-dd"-->
                        <!--data-min-View="2" placeholder="" ng-model="params.startDateActiveFrom">-->
                        <!--</div>-->
                        <!--</div>-->

                        <!--<div class="form-group col-xs-4 col-md-4">-->
                        <!--<div class="input-group input-group-xs">-->
                        <!--<label class="input-group-addon bn"><span-->
                        <!--class="pl10">至</span></label>-->
                        <!--<input type="text" class="form-control radius3" id="endDateActive" date-time-picker-->
                        <!--data-date-format="yyyy-mm-dd"-->
                        <!--data-min-View="2" placeholder="" ng-model="params.startDateActiveTo">-->
                        <!--</div>-->
                        <!--</div>-->
                        <input type="submit" hidden>
                    </div>
                </form>


                <div class="data-table">
                    <div base-data-table="dataTable"
                         ng-params="params"
                         data-show-index="true"
                         data-url="carouseFind"


                         data-legend="[

                            {'value':'orgIdStr','name':'BU'},
                             {'value':'carouselName','name':'轮播图名称'},
                             {'value':'carouselPosition','name':'轮播图位置'},
                             {'value':'carouselTypeDesc','name':'轮播图类型'},
                             {'value':'displayFlag','name':'是否显示标志','boolean':'icon'},
                             {'value':'pictureDesc','name':'图片描述'},
                             {'value':'pictureUrl','name':'图片url地址'},
                             {'value':'orderSequence','name':'显示顺序'},
                             ]"
                    ></div>
                </div>
                <!--------------------- ./  数据　　↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  --->
            </div>
        </div>
    </div>
    <!--    **********************     弹出框  start   *******************      -->
    <form name="editForm" ng-submit="save()">
        <div class="modal fade" id="myModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
             role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog " style="margin-top: 30px">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"
                                aria-hidden="true">&times;
                        </button>
                        <h4 class="modal-title" id="myModalLabel">
                            编辑数据
                        </h4>
                    </div>
                    <div class="modal-body ">
                        <div class="pl30 pr30">
                            <div class="row">
                                <div class="form-group col-xs-12 col-md-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span class="w100"><i class="red">*</i>轮播图名称</span></label>
                                        <input type="text" class="form-control radius3" name="pictureDesc" required
                                               ng-model="current.carouselName">
                                    </div>
                                </div>

                                <div class="form-group col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100"><i class="red">*</i>位置</span></label>

                                        <div lookup-code="CAROUSEL_POSITION" required name="currentCarouselPosition" ng-model="current.carouselPosition"></div>
                                    </div>
                                </div>

                                <div class="form-group col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100 "><i class="red">*</i>显示顺序</span></label>
                                        <input type="text" class="form-control radius3" name="currentOrderSequence"
                                               ng-model="current.orderSequence" number data-error-msg="显示顺序请输入整数"
                                               maxLength=8 required>
                                    </div>
                                </div>

                                <div class="form-group col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100 "><i class="red">*</i>是否显示</span></label>
                                        <div lookup-code="YES_OR_NO" required ng-model="current.displayFlag" name="currentDisplayFlag"></div>
                                    </div>
                                </div>
                                <div class="form-group col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn">
                                            <span class="w100" class="pl10">BU</span>
                                        </label>

                                        <select class="form-control radius3" ng-model="current.orgId">
                                            <option value="" class="ng-binding">请选择</option>
                                            <option ng-repeat="item in buData" value="{{item.orgId}}" ng-bind="item.orgDescription"></option>
                                        </select>


                                    </div>
                                </div>
                                <div class="form-group col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100"><i class="red">*</i>轮播图类型</span></label>
                                        <div lookup-code="CAROUSEL_TYPE" name="currentCarouselType" required ng-model="current.carouselType"></div>

                                    </div>
                                </div>
                                <div class="form-group col-xs-12 col-md-12">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class="w100 "><i class="red">*</i>图片描述</span></label>
                                        <input type="text" class="form-control radius3"
                                               ng-model="current.pictureDesc" name="currentPictureDesc"
                                               maxLength=8 required>
                                    </div>
                                </div>


                                <div class="form-group col-xs-12 col-sm-12 ">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span class="w100">图标地址</span></label>
                                        <input saaf-img="" data-img-url="row.accessPath" data-has-up="false"
                                               data-delete-action="imGdeleteAction(imgArr,row)"
                                               ng-repeat="row in imgArr ">
                                        <input saaf-img data-max-length="1" data-size="800*160"
                                               data-click-action="imageClickAction(current.carouselPosition)"
                                               data-add-action="imgAddAction(imgArr,'','',$returnMessage)">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="margin-top: 50px;">
                        <div style="text-align: center">
                            <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                    aria-label="Close" ng-click="dataTable.search(1)"><span
                                    class="fa ">取消</span>
                            </button>
                            <button id="save"  validate-form-btn="" data-validate-form="editForm" ng-click="save()" class="btn btn-primary btn-sm">
                                <span>保存</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!--    **********************     弹出框  end   *******************      -->


</div>