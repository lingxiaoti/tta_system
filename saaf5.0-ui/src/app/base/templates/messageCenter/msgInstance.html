<div ng-controller="msgInstanceCtrl" class="gridtable">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="pull-right ">
                    <div class="btn-group btn-group-xs ml10">
                        <button class="btn btn-default" type="button" ng-click="dataTable.search(1)">
                            <i class="fa fa-search" aria-hidden="true"></i>搜索
                        </button>
                        <button class="btn btn-default" type="button" ng-click="restore()">
                            <i class="fa fa-undo" aria-hidden="true"></i>重置
                        </button>
                    </div>
                    <div class="btn-group btn-group-xs " permission-buttons="btnDel">

                    </div>
                </div>

                <div class="btn-group btn-group-xs ">
                    <button type="button" class="btn  btn-warning" ng-click="moreInput($event)">
                        <i class="fa fa-chevron-circle-down"></i>高级查询
                    </button>
                    <button type="button" class="btn btn-primary" ng-click="fullWindow($event)">
                        <i class="fa fa-square-o"></i>数据全屏
                    </button>
                </div>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option={{niceOpction}} data-des="此节点必需-滚动内容及指令">
                <!--------------------- 输入表单  --->
                <form class=" mt10 pb5 input-form bb oh" input-form data-des="此节点必需－用于识别输入表单的指令">
                    <div resp-change="" class="col-xs-6 col-md-4 col-lg-3"></div>
                    <div class="form-group col-xs-6 col-md-4 col-lg-3">
                        <div class="input-group input-group-xs">
                            <label class="input-group-addon bn">
                                <span class="w100" class="pl10">事业部</span>
                            </label>
                            <div class="form-control radius3" lookup-code="SAM_OU" ng-model="params.orgId" >
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-xs-6 col-md-4 col-lg-3">
                        <div class="input-group input-group-xs">
                            <label class="input-group-addon bn"><span
                                    class="w100 ">业务主键</span></label>
                            <input  type="text" class="form-control radius3" name="bizId"
                                   ng-model="params.bizId">
                        </div>
                    </div>

                    <div class="form-group col-xs-6 col-md-4 col-lg-3">
                        <div class="input-group input-group-xs">
                            <label class="input-group-addon bn"><span
                                    class="w100">消息请求时间从</span></label>
                            <input type="text" class="form-control radius3"
                                   date-time-picker data-date-format="yyyy-mm-dd"
                                   data-enddate="{{params.msgTransactionDateEnd}}"
                                   id="params_msgTransactionDateStart"
                                   data-min-View="2" placeholder="" ng-model="params.msgTransactionDateStart"
                            >
                        </div>
                    </div>

                    <div class="form-group col-xs-6 col-md-4 col-lg-3">
                        <div class="input-group input-group-xs">
                            <label class="input-group-addon bn"><span
                                    class="w100">消息请求时间至</span></label>
                            <input type="text" class="form-control radius3"
                                   date-time-picker data-date-format="yyyy-mm-dd"
                                   data-stratdate="{{params.msgTransactionDateStart}}"
                                   id="params_msgTransactionDateEnd"
                                   data-min-View="2" placeholder="" ng-model="params.msgTransactionDateEnd"
                            >
                        </div>
                    </div>

                    <div class="form-group col-xs-6 col-md-4 col-lg-3">
                        <div class="input-group input-group-xs">
                            <label class="input-group-addon bn"><span
                                    class="w100">发送时间从</span></label>
                            <input type="text" class="form-control radius3"
                                   date-time-picker data-date-format="yyyy-mm-dd"
                                   id="params_sendDateStart"
                                   data-min-View="2" placeholder="" ng-model="params.sendDateStart"
                            >
                        </div>
                    </div>

                    <div class="form-group col-xs-6 col-md-4 col-lg-3">
                        <div class="input-group input-group-xs">
                            <label class="input-group-addon bn"><span
                                    class="w100">发送时间至</span></label>
                            <input type="text" class="form-control radius3"
                                   date-time-picker data-date-format="yyyy-mm-dd"
                                   id="params_sendDateEnd"
                                   data-min-View="2" placeholder="" ng-model="params.sendDateEnd"
                            >
                        </div>
                    </div>



                    <div search-form
                         data-legend="[
                          {key:'channelName',label:'渠道类型',type:'lov',target:'#findChannelSave','readonly':true,css:'readonly-white'},
                          {key:'msgTypeCode',label:'消息类型',type:'lookCode',lookCode:'MESSAGE_TYPE'},
                          {key:'receiveCode',label:'接收对象'},
                          {key:'sourceType',label:'来源'},
                          {key:'msgSubject',label:'消息标题'},
                          {key:'sendStatus',label:'发送状态',type:'lookCode',lookCode:'MESSAGE_SEND_STATUS'},
                        ]"
                         ng-model="params"

                    ></div>

                </form>
                <!--------------------- ./  输入表单  --->
                <!--------------------- ./  数据　相关html代码，请写在这里面 ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓　  --->
                <div class="data-table">
                    <div base-data-table="dataTable"
                         ng-params="params"
                         data-auto-get-data="false"
                         data-show-index="true"
                         data-url="msgInstanceFind"
                         data-auto-request="false"
                         data-checked-type="checkbox"
                         data-keys="{'key':'msgInstanceId'}"
                         data-func-column="[{text:'查看',callback:'detail'}]"
                         data-legend="[
                          {'value':'orgName','name':'事业部'},
                          {'value':'channelTypeName','name':'渠道类型'},
                          {'value':'msgTypeName','name':'消息类型'},
                          {'value':'receiveCode','name':'接收对象'},
                          {'value':'sourceType','name':'来源'},
                          {'value':'bizId','name':'业务主键'},
                          {'value':'bizType','name':'业务功能类型'},
                          {'value':'msgTransactionDate','name':'消息请求时间'},
                          {'value':'sendDate','name':'发送时间'},
                          {'value':'sendStatusName','name':'发送状态'},
                          {'value':'failureTimes','name':'发送失败次数'},
                          {'value':'msgSubject','name':'消息标题'},
                          {'value':'msgUrl','name':'消息链接'}
                         ]"
                    ></div>
                </div>
                <!--------------------- ./  数据　　↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  --->
            </div>
        </div>
    </div>
    <div lov-list="findChannelSave" role="dialog" data-title="请选择渠道" id="findChannelSave" ng-model="code3" class="   "
         data-url="findChannelCfg"
         data-auto-request="false"
         data-params="{'orgType':'INV_ORG'}"
         data-return-key="params.channelType"
         data-return-value="params.channelName"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'channelCode','value':'channelName',name:'渠道'}"
         data-show-index="false"
         data-type="competitor"
         data-search-key="[{'key':'channelName_like','placeholder':'渠道'}]"
    >
    </div>
</div>