<div ng-controller="ttaSystemNoBrandOutStandListCtrl" class="gridtable">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <div class="bg-gray-white p5">
            <div class="pull-right ml10">
                <div class="btn-group btn-group-xs ">
                    <button class="btn btn-default" type="button" ng-click="outStandListTable.getData()">
                        <i class="fa fa-search" aria-hidden="true"></i>{{$l('搜索')}}
                    </button>
                    <button class="btn btn-default" type="button" ng-click="refreshBrandBtn()" name="refreshBrand">
                        <i class="fa fa-refresh" aria-hidden="true"></i>刷新品牌信息
                    </button>
                    <button class="btn btn-default" type="button" ng-click="btnSave()" name="refreshBrandSave">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>保存
                    </button>
                    <button class="btn btn-default" type="button" ng-click="createSupplierBrandBtn()" name="createSupplierBrandName">
                        <i class="fa fa-creative-commons" aria-hidden="true"></i>生成供应商品牌
                    </button>
                    <!--<button class="btn btn-default" type="button" ng-click="dataExport()" name="fullWindow">
                        <i class="fa fa-upload" aria-hidden="true"></i>导出
                    </button>-->
                </div>
            </div>
            <div class="btn-group btn-group-xs ">
                <button class="btn btn-primary" ng-click="fullWindow($event)"><i class="fa fa-square-o"></i>数据全屏
                </button>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option="{{niceOpction}}" data-des="此节点必需-滚动内容及指令">
                <div class="col-xs-12 col-md-12" style="margin-right: -1px; height: 100%; ">
                    <div class=" mt10 pb5 input-form bb oh" input-form
                         data-des="此节点必需－用于识别输入表单的指令">
                        <div search-form
                             data-legend="[
                            {key:'year',label:'年度'},
                            {key:'accountMonth',label:'月份'},
                            {key:'supplierCode',label:'供应商编号'},
                            {key:'supplierName',label:'供应商名称'},
                            {key:'isCreate',label:'是否生成品牌供应商',type:'lookupCode', lookupCode:'TTA_NO_BRAND_ISCREATE'},
                            {key:'activeStatus',label:'状态',type:'lookupCode', lookupCode:'TTA_NO_BRAND_ACTIVE_STATUS'}
                        ]"
                             ng-model="searchParam"
                        ></div>
                    </div>
                    <div style="">
                        <div class="data-table" ng-nicescroll="" id="nicescroll_userGroupDeptBrand" nice-option="{oneaxismousemode:true,railvalign: 'bottom',cursorcolor:'#1e90c2'}"
                        >
                            <table saaf-table="outStandListTable"
                                   data-url="noSupplierBrandFind"
                                   data-params="searchParam"
                                   data-keys="{key:'supplierBrandId'}"
                                   data-checked-type="radio"
                                   data-auto-get-data="true"
                                   data-after-get-data="afterGetData()"
                                   data-page-rows="10"
                                   id = "outStandListTableId"
                                   class=" nicescroll-height  table table-bordered table-hover table-condensed">
                                <thead class="bg-gray-white">
                                    <tr class="text-center" style="background-color: #1e90c29c">
                                        <th>
                                            <input  ng-checked="selectedAll" type="checkbox"
                                                    ng-click="checkedAll($event)" >
                                        </th>
                                        <th>序号</th>
                                        <th>年度</th>
                                        <th>月份</th>
                                        <th>供应商编号</th>
                                        <th>供应商名称</th>
                                        <th>GROUP_CODE</th>
                                        <th>GROUP_NAME</th>
                                        <th>DEPT_CODE</th>
                                        <th>DEPT_NAME</th>
                                        <th>BRAND_CODE</th>
                                        <th>BRAND_CN</th>
                                        <th>BRAND_EN</th>
                                        <th>BU Scorecard（Mother Company）</th>
                                        <th>Win/Top Supplier（Mother Company）</th>
                                        <th>KB Scorecard（Mother Company）</th>
                                        <th>状态</th>
                                        <th>是否生成供应商品牌信息</th>
                                        <th>刷新批次</th>
                                    </tr>
                                </thead>
                                <tbody ng-show="outStandListTable.data">
                                    <tr class="text-center" ng-repeat="row in outStandListTable.data"
                                        ng-class="{'active':outStandListTable.selectRow==$index}"
                                        ng-click="outStandListTable.selectRow=$index;
                                        outStandListTable.selectRowData =row;"
                                    >
                                        <!--<td ng-if="recordingList == 'true'">
                                            <input id="{{ 'supplierBrandId' +'_'+row.supplierBrandId}}" ng-checked="dataTableNBExtend.indexOf(row)" type="checkbox"
                                                   ng-click="check(row,$event)" name="keys">
                                        </td>-->
                                        <td ng-if="true">
                                            <input id="{{ 'supplierBrandId' +'_'+row.supplierBrandId}}" ng-checked="row.checked" type="checkbox"
                                                   ng-click="check(row,$event)" name="keys">
                                        </td>
                                        <td ng-bind="$index+1" class="w50">1</td>
                                        <td><span>{{row.year}}</span></td>
                                        <td><span>{{row.accountMonth}}</span></td>
                                        <td><span>{{row.supplierCode}}</span></td>
                                        <td><span>{{row.supplierName}}</span></td>
                                        <td><span>{{row.groupCode}}</span></td>
                                        <td><span>{{row.groupName}}</span></td>
                                        <td><span>{{row.deptCode}}</span></td>
                                        <td><span>{{row.deptName}}</span></td>
                                        <td><span>{{row.brandCode}}</span></td>
                                        <td><span>{{row.brandCn}}</span></td>
                                        <td><span>{{row.brandEn}}</span></td>
                                        <td>
                                            <input class="form-control input-xs"
                                                   ng-model="row.buScorecard"  name="{{'buScorecard' + $index}}"
                                            >
                                        <td>
                                            <input class="form-control input-xs"
                                                   ng-model="row.winTopSupplier"  name="{{'winTopSupplier' + $index}}"
                                            >
                                        <td>
                                            <input class="form-control input-xs"
                                                   ng-model="row.kbScorecard"  name="{{'kbScorecard' + $index}}"
                                            >
                                        <td>
                                            <div class="input-group input-group-xs" style="width: 84px;">
                                                <div lookup-code="TTA_NO_BRAND_ACTIVE_STATUS" data-first-text="请选择"    ng-model="row.activeStatus" required></div>
                                            </div>
                                        </td>
                                        <td><span>{{row.isCreateName}}</span></td>
                                        <td><span>{{row.batchNumber}}</span></td>
                                    </tr>
                                </tbody>
                            </table>


                        </div>
                        <div saaf-table-tfoot="outStandListTable" ng-show="outStandListTable.data.length>0"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>




</div>