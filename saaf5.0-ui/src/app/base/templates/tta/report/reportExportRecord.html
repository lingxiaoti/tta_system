<div ng-controller="reportExportRecordCtrl" class="gridtable">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="pull-right ">
                    <div class="btn-group btn-group-xs ml10">
                        <button class="btn btn-default" type="button" validate-form-btn="searchForm" ng-click="dataTable.search(1)">
                            <i class="fa fa-search" aria-hidden="true"></i>搜索
                        </button>
                        <button class="btn btn-default" type="button" ng-click="dataTable.restore()">
                            <i class="fa fa-undo" aria-hidden="true"></i>重置
                        </button>
                    </div>
                    <div class="btn-group btn-group-xs ml10" permission-buttons="btnCreate">
                    </div>
                </div>

                <div class="btn-group btn-group-xs ">
                    <button type="button" class="btn  btn-warning" ng-click="moreInput($event)">
                        <i class="fa fa-chevron-circle-down"></i>高级查询
                    </button>
                    <button type="button" class="btn btn-primary" ng-click="fullWindow($event)">
                        <i class="fa fa-square-o"></i>数据全屏
                    </button>
                </div>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll            
                 nice-option="{{niceOpction}}" data-des="此节点必需-滚动内容及指令">
                <!--------------------- 输入表单  --->
                <form class=" mt10 pb5 input-form bb oh" name="searchForm" id="searchForm" data-des="此节点必需－用于识别输入表单的指令">
                    <!--------------------- 输入表单  --->
                    <div resp-change="" class="col-xs-6 col-md-4 col-lg-3"></div>
                    <div search-form=""
                         data-legend="[
                            {key:'fileName',label:'文件名称'},
                            {key:'statusCode',label:'状态',type:'lookCode',lookCode:'CP_STATUS_CODE'},
                            {key:'creationDate',label:'生成日期','type':'time','date':'yyyy-mm-dd'},
                      ]"  ng-model="params"></div>

                    <!--------------------- ./  输入表单  --->
                </form>
                <!--------------------- ./  输入表单  --->
                <!--------------------- ./  数据　相关html代码，请写在这里面 ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓　  --->
                <div class="data-table ">
                    <div base-data-table="dataTable"
                         ng-params="params"
                         data-show-index="true"
                         data-url="findReportAttGenRecord"
                         data-func-column="[{'text':'查看日志&nbsp;&nbsp;&nbsp;&nbsp;','callback':'btnDetail'},{'icon':'fa fa-download','text':'下载附件','callback':'downFileEvent'}]"
                         data-legend="[
                           {'value':'reportTypeName','name':'报表类型名称'},
                           {'value':'creationDate','name':'执行开始时间'},
                           {'value':'lastUpdateDate','name':'执行结束时间'},
                           {'value':'msgCode','name':'执行状态'},
                           {'value':'queryParams','name':'参数信息'},
                           {'value':'fileUrl','name':'文件URL'},
                           {'value':'fileName','name':'文件名称'},
                            {'value':'userFullName','name':'执行人'},
                         ]"
                    ></div>
                </div>
                <!--------------------- ./  数据　　↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  --->
            </div>
        </div>
    </div>

    <div class="modal fade" id="lookLog" data-backdrop="static"
         data-keyboard="false" tabindex="-1" role="dialog"
         aria-labelledby="lookLog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"
                            aria-hidden="true">&times;</button>
                    <h4 class="modal-title">查看错误日志</h4>
                </div>
                <div class="modal-body ">
						<textarea class="form-control " ng-model="logDetail"
                                  style="height: 300px" readonly>

                        </textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default mr10"
                            data-dismiss="modal">返回</button>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal -->
        </div>
    </div>

    <div class="modal fade" id="AddModal" data-des="生成" data-backdrop="static" tabindex="-1">
        <div class="modal-dialog">
            <form name="addModalForm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close"
                                data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title">
                            生成EXCEL
                        </h4>
                    </div>
                    <div class="modal-body">

                        <div class="form-group col-xs-6 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">年份：</span></label>
                                <input type="text" class="form-control radius3"
                                       date-time-picker="" data-date-format="yyyy"
                                       data-start-view="4" data-min-view="4" data-max-view="4"
                                       ng-model="AddData.year">

                            </div>
                        </div>

                        <div class="cb"></div>

                    </div>

                    <div class="modal-footer">
                        <button   type="button" validate-form-btn="addModalForm"  ng-click="addInfoFour()"
                                  class="btn btn-warning btn-sm">
                            <span class="fa fa-plus"> 确定新增</span></button>
                        <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                aria-label="Close"><span class="fa ">取消</span>
                        </button>
                    </div>
                </div><!-- /.modal-content -->
            </form>
        </div><!-- /.modal -->
    </div>


    <div class="modal fade" id="AddModal12" data-des="生成" data-backdrop="static" tabindex="-1">
        <div class="modal-dialog">
            <form name="addModalForm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close"
                                data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title">
                            生成EXCEL
                        </h4>
                    </div>
                    <div class="modal-body">

                        <div class="form-group col-xs-6 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">年份</span></label>
                                <input type="text" class="form-control radius3" required
                                       ng-model="AddDataTwelve.reportYear">
                            </div>
                        </div>

                        <div class="cb"></div>

                    </div>

                    <div class="modal-footer">
                        <button   type="button" validate-form-btn="addModalForm"  ng-click="addInfoTwelve()"
                                  class="btn btn-warning btn-sm">
                            <span class="fa fa-plus"> 确定新增</span></button>
                        <button type="reset" class="btn btn-default btn-sm" data-dismiss="modal"
                                aria-label="Close"><span class="fa ">取消</span>
                        </button>
                    </div>
                </div><!-- /.modal-content -->
            </form>
        </div><!-- /.modal -->
    </div>


    <!--报表1 start -->
    <div class="modal fade" id="selectTtaReportOne" data-des="生成1.All Supplier Performance Report_sample" data-backdrop="static" tabindex="-1">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabe1">
                        1. All Supplier Performance Report_sample
                    </h4>
                </div>
                <form class="ngValid" name="funcMenuForm1"  >

                    <div class="modal-body">
                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red ">*</i>选择日期</span></label>
                                <input type="text" class="form-control radius3"
                                       required date-time-picker="" data-date-format="yyyy-mm"
                                       data-start-view="3" data-min-view="3" data-max-view="3"
                                       name="endDate"
                                       ng-model="currentData.endDate">
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>查询类型</span></label>
                                <div lookup-code="TTA_QUERY_TYPE" name="queryType" ng-model="currentData.queryType" required></div>
                            </div>
                        </div>
                        <div class="cb"></div>
                    </div>

                    <div class="modal-footer ">
                        <div style="text-align:center">
                            <button style="" type="button" class="btn btn-default" data-dismiss="modal">取消
                            </button>
                            <button ng-click="selectFirstReturn(funcMenuForm1.$invalid)" validate-form-btn="" data-validate-form="funcMenuForm1"  class="btn btn-primary mr10">确定</button>
                        </div>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!--报表1 end -->


    <!--报表2 start -->
    <div class="modal fade" id="selectTtaOiGP" data-des="生成2.Top Supplier Report_sample" data-backdrop="static" tabindex="-1">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        2. Top Supplier Report_sample
                    </h4>
                </div>
                <form class="ngValid" name="funcMenuForm"  >

                    <div class="modal-body">

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red ">*</i>选择日期</span></label>
                                <input type="text" class="form-control radius3"
                                       required date-time-picker="" data-date-format="yyyy-mm"
                                       data-start-view="3" data-min-view="3" data-max-view="3"
                                       name="endDate"
                                       ng-model="currentData.endDate" id="endDate">
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>查询类型</span></label>
                                <div lookup-code="TTA_QUERY_TYPE" name="queryType" ng-model="currentData.queryType" required></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>查询维度</span></label>
                                <div lookup-code="TTA_QUERY_DIMENSION" name="queryGroupByVimTop" ng-model="currentData.queryGroupByVimTop" required></div>
                            </div>
                        </div>


                        <div class="cb"></div>
                    </div>

                    <div class="modal-footer ">
                        <div style="text-align:center">
                            <button style="" type="button" class="btn btn-default" data-dismiss="modal">取消
                            </button>
                            <button ng-click="selectSecendReturn(funcMenuForm.$invalid)" validate-form-btn="" data-validate-form="funcMenuForm" id="saveButton" class="btn btn-primary mr10">确定</button>
                        </div>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!--报表2 end -->

    <!--报表6-10 start -->
    <div class="modal fade" id="selectTtaReportSix" data-des="" data-backdrop="static" tabindex="-1">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabeReportSix">
                        {{modelTitle}}
                    </h4>
                </div>
                <form class="ngValid" name="funcMenuFormSix"  >
                    <div class="modal-body">
                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red ">*</i>开始日期</span></label>
                                <input type="text" class="form-control radius3" style="background-color:white"
                                       readonly
                                       required date-time-picker="" data-date-format="yyyy-mm"
                                       data-enddate="{{currentData.endDate}}"
                                       data-start-view="3" data-min-view="3" data-max-view="3"
                                       name="startDate"
                                       ng-model="currentData.startDate">
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red ">*</i>结束日期</span></label>
                                <input type="text" class="form-control radius3" style="background-color:white"
                                       readonly
                                       required date-time-picker="" data-date-format="yyyy-mm"
                                       data-stratdate="{{currentData.startDate}}"
                                       data-start-view="3" data-min-view="3" data-max-view="3"
                                       name="endDate"
                                       ng-model="currentData.endDate">
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>查询类型</span></label>
                                <div lookup-code="TTA_QUERY_TYPE" name="queryType" ng-model="currentData.queryType" required></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>费用类型</span></label>
                                <div lookup-code="TTA_OIFEETYPE" name="oiFeeType" ng-model="currentData.oiFeeType" required disabled></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">部门</span>
                                </label>
                                <select class="form-control radius3 " ng-model="currentData.groupCode"  name="currentData.groupCode">
                                    <option value>请选择</option>
                                    <option value="{{item.departmentCode}}" ng-repeat="item in groupData"> {{item.departmentName}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">供应商编号</span>
                                </label>
                                <input type="text" class="form-control radius3"
                                       ng-model="currentData.vendorNbr">
                                <span class="input-group-btn ng-scope">
                                    <button class="btn btn-default" ng-click="getSupplierCode()" type="button">
                                                <i class="fa fa-search"></i>
                                    </button>
                                </span>
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-6">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">供应商名称</span></label>
                                <input type="text" class="form-control radius3"
                                       ng-model="currentData.vendorName">
                            </div>
                        </div>
                        <div class="cb"></div>
                    </div>

                    <div class="modal-footer ">
                        <div style="text-align:center">
                            <button style="" type="button" class="btn btn-default" data-dismiss="modal">取消
                            </button>
                            <button ng-click="selectSixReturn(funcMenuFormSix)" validate-form-btn="" data-validate-form="funcMenuForm1"  class="btn btn-primary mr10">确定</button>
                        </div>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!--报表6-10 end -->

    <div lov-list="supplierList" role="dialog" data-title="选择供应商信息" id="supplierCode" ng-model="current.em"
         data-url="supplierFindLov"
         data-dynamic-params=''
         data-callback="selectSupplierReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'supplierCode','value':'supplierCode','name':'供应商编码'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'供应商名称','key':'supplierName'}]"
         data-search-key="[{'key':'supplierCode','placeholder':'供应商编码'},
                          {'key':'supplierName','placeholder':'供应商名称'}]"
    >
    </div>

</div>