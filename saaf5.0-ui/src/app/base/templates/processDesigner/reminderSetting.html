<div ng-controller="reminderSettingCtrl" class="gridtable">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="pull-right ">
                    <div class="btn-group btn-group-xs ml10">
                        <button class="btn btn-default" type="button" ng-click="dataTable.search(1)">
                            <i class="fa fa-search" aria-hidden="true"></i>搜索
                        </button>
                        <button class="btn btn-default" type="button" ng-click="dataTable.restore()">
                            <i class="fa fa-undo" aria-hidden="true"></i>重置
                        </button>
                        <button class="btn btn-default" type="button" ng-click="btnNew()" permission-btn="">
                            <i class="fa fa-plus" aria-hidden="true"></i>新增
                        </button>
                        <button class="btn btn-default" type="button" ng-click="btnModify()" permission-btn=""
                                ng-disabled="!dataTable.selectRow">
                            <i class="fa fa-edit" aria-hidden="true"></i>编辑
                        </button>
                        <button class="btn btn-default" type="button" ng-click="btnInvalid()" id="btnInvalid" permission-btn=""
                                ng-disabled="!dataTable.selectRow">
                            <i class="fa fa-refresh" aria-hidden="true"></i>生效
                        </button>
                        <button class="btn btn-default" type="button" ng-click="btnDel()" permission-btn=""
                                ng-disabled="!dataTable.selectRowList.length">
                            <i class="fa fa-edit" aria-hidden="true"></i>删除
                        </button>
                       <!-- <button class="btn btn-default" type="button" ng-click="setTimeout()">
                            <i class="fa fa-refresh" aria-hidden="true"></i>超时测试
                        </button>-->

                    </div>

                </div>

                <div class="btn-group btn-group-xs ">
                    <button type="button" class="btn  btn-warning" ng-click="moreInput($event)">
                        <i class="fa fa-chevron-circle-down"></i>高级查询
                    </button>
                    <button type="button" class="btn btn-primary" ng-click="fullWindow($event)">
                        <i class="fa fa-square-o"></i>数据全屏
                    </button>
                </div>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option="{cursorcolor: '#333333',cursorwidth:10,zindex:1}" data-des="此节点必需-滚动内容及指令">
                <!--------------------- 输入表单  --->
                <form class=" mt10 pb5 input-form bb" input-form data-des="此节点必需－用于识别输入表单的指令">
                    <div resp-change="" class=" col-xs-6 col-md-3"></div>
                    
                    <div search-form
                         data-legend="[
                        {key:'status',label:'流程分类',type:'ztreeSelect',
                          options:{
                            url:'processListCategories',
                            label:'流程分类',
                            simpledata: {enable:true,idKey:'categoryId',pIdKey:'parentId',rootPId:-1},
                            keys: {name:'categoryName'},
                            height:250,
                             returnValue:'categoryName',
                            returnKey:'categoryId'
                          }
                          },
                         {key:'startDate',label:'有效时间从',type:'time',endDate:'endDate'},
                         {key:'endDate',label:'有效时间至',type:'time',startDate:'startDate'}
                        ]"
                         ng-model="params"
                         data-col='3'
                    ></div>
                    
                    <div class="form-group col-xs-6 col-md-3">
	                    <div class="input-group input-group-xs">
	                        <label class="input-group-addon bn"><span class="w100">状态</span></label>
	                        <select type="text" id="status" class="form-control radius3" name="status" required
	                                ng-model="params.disabled">
	                            <option value="false">生效</option>
	                            <option value="true">失效</option>
	                        </select>
	                    </div>
	                </div>
	                <div class="clearfix" style="display: block;"></div>
                </form>
                <!--------------------- ./  输入表单  --->
                <!--------------------- ./  数据　相关html代码，请写在这里面 ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓　  --->
                <div class="data-table">

                    <div base-data-table="dataTable"
                         ng-params="params"
                         data-show-index="true"
                         data-url="processFindUrgeConfig"
                         data-delete-url="processTaskUrgeConfigDelete"
                         data-keys="{key:'configId',asKey:'configIds'}"
                         data-checked-type="checkbox"
                         data-click-row="clickRow"
                         data-onload="processListLoad"
                         data-legend="[
                           {value:'processName', name:'流程名称'},
                             {value: 'ouNames','name': 'BU'},
                           {value: 'startToEnd',name: '有效时间'},
                           {value: 'timeout',name: '审批超时', unitTd:'天'},
                           {value: 'timegap',name: '提醒间隔',unitTd:'小时'},
                           {value: 'enabled',name: '状态',boolean:'icon'}
                    ]"
                    ></div>
                </div>
                <!--------------------- ./  数据　　↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑  --->
            </div>
        </div>
    </div>

    <form name="entrustApprovalForm" id="entrustApprovalForm">
        <div class="modal fade" data-backdrop="static" id="entrustApproval" tabindex="-1">
            <div class="modal-dialog modal-dialog-md">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title">
                            催办设置
                        </h4>
                    </div>

                    <div class="modal-body ">
                        <div class="pl30 pr30">
                            <div class="row">
                                <div class="form-group col col-xs-12 col-md-12">
                                    <div z-tree-select="rangeTree" id="rangeTree"
                                         data-url="findCategoriesModels"
                                         data-simpledata='{"enable":"true","idKey":"categoryId","pIdKey":"parentId","name":"categoryName",rootPId:-1}'
                                         data-label="流程范围"
                                         ng-params="rangeTreeParams"
                                         data-choose-childen="true"
                                         data-label-css="auto"

                                         data-expand-node="1"
                                         data-height="200"
                                         ng-value="showParams.value"
                                         ng-key="addParams.processDefinitionKey"
                                         ng-model="current.range"
                                         data-required='true'
                                         data-check="true"
                                         data-callback="setRangeVal"
                                         
                                    ></div>
                                </div>

                                <div class="form-group col col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class=""><i class="red">*</i>{{ $l('审批超时') }}：</span></label>
                                        <input type="text" class="form-control radius3" required
                                               name="addParams_timeout" data-error-msg="审批超时请输入整数"
                                               ng-model="addParams.timeout" number="2">
                                        <span class="input-group-addon">天</span>
                                    </div>
                                </div>
                                <div class="form-group col col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class=""><i class="red">*</i>{{ $l('提醒间隔') }}：</span></label>
                                        <input type="text" class="form-control radius3" required number="-1"
                                               data-point="1"
                                               name="addParams_timegap"
                                               ng-model="addParams.timegap">
                                        <span class="input-group-addon">小时</span>
                                    </div>
                                </div>


                                <div class="form-group col col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class=""><i class="red">*</i>{{ $l('开始时间') }}：</span></label>
                                        <input type="text" class="form-control radius3" name="addParams_startTime"
                                               required data-enddate="{{ addParams.endTime }}"
                                               id="addParams_startTime" date-time-picker=""
                                               data-date-format="yyyy-mm-dd" data-min-view="2"
                                               ng-model="addParams.startTime">
                                    </div>
                                </div>

                                <div class="form-group col col-xs-12 col-md-6">
                                    <div class="input-group input-group-xs">
                                        <label class="input-group-addon bn"><span
                                                class=""><i class="red">*</i>{{ $l('结束时间') }}：</span></label>

                                        <input type="text" class="form-control radius3" name="addParams_endTime"
                                               required data-stratdate="{{ addParams.startTime }}"
                                               id="addParams_endTime" date-time-picker="" data-date-format="yyyy-mm-dd"
                                               data-min-view="2"
                                               ng-model="addParams.endTime">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer ">
                        <div style="text-align:center">
                            <button style="" type="button" class="btn btn-default" data-dismiss="modal"
                                    aria-hidden="true">{{ $l('取消')}}
                            </button>
                            <button type="button" ng-click="save()"
                                    validate-form-btn="entrustApprovalForm" class="btn btn-primary mr10">{{ $l('提交')}}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.modal -->
    </form>
</div>