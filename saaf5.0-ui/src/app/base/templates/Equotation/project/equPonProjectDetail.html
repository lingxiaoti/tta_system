<div ng-controller="equPonProjectDetailCtrl" class="bigdata">
    <div id="processForm"
         data-api-post="saveProjectInfo"
         data-api-get="findProjectInfo"
         data-api-update="saveProjectInfo">
    </div>
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <!--------------------- 按钮--->
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="btn-group btn-group-xs pull-right ml10" id="outputButton">
                    <button type="button" ng-click="btnSave()" permission-btn="btnSave" data-validate-form="formArea"
                            ng-disabled="readonlyFlag == 'Y'"
                            class="btn btn-default">
                        <i class="fa fa-square-o"></i>{{$l('保存')}}
                    </button>

                    <button type="button" ng-click="btnSubmit()" permission-btn="btnSubmit"
                            ng-disabled="readonlyFlag == 'Y'"
                            data-validate-form="formArea"
                            class="btn btn-default">
                        <i class="fa fa-square-o"></i>{{$l('提交')}}
                    </button>

                    <button type="button" ng-click="btnTerminate()" permission-btn="btnTerminate"
                            ng-disabled="program.projectStatus != '40'"
                            data-validate-form="formArea"
                            class="btn btn-default">
                        <i class="fa fa-square-o"></i>{{$l('终止')}}
                    </button>

                    <button type="button" ng-click="btnChangeLX()" permission-btn="btnChangeLX"
                            ng-show="showFlag == 'Y'"
                            ng-disabled="program.projectStatus != '30' || program.canChangeFlag != 'Y' || program.canChangeFlag2 != 'Y'"
                            data-validate-form="formArea"
                            class="btn btn-default">
                        <i class="fa fa-square-o"></i>{{$l('变更立项资料')}}
                    </button>

                    <button type="button" ng-click="btnSendInvitation()" permission-btn="btnSendInvitation"
                            ng-show="showFlag == 'Y'"
                            ng-disabled="program.projectStatus != '30' || sendInvitationReadonlyFlag == 'Y'"
                            data-validate-form="formArea"
                            class="btn btn-default">
                        <i class="fa fa-square-o"></i>{{$l('发送报价邀请')}}
                    </button>
                </div>

                <div class="btn-group btn-group-xs ">
                    <button type="button" class="btn btn-primary" ng-click="fullWindow($event)">
                        <i class="fa fa-square-o"></i>{{$l('数据全屏')}}
                    </button>
                </div>
            </div>
        </div>
        <!---------------------  / .按钮  --->
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option="{{niceOpction}}"
                 data-des="此节点必需-滚动内容及指令">

                <!--------------------- 输入表单  --->

                <!--工作流集成添加TAB-->
                <ul ng-if="!urlParams.businessKey" class="nav nav-tabs mt10">
                    <li role="presentation" class="active" ng-click="tabChange('requestFundsBusiness')">
                        <a href="#requestFundsBusiness" aria-controls="requestFundsBusiness" role="tab"
                           data-toggle="tab">{{$l('业务表单')}}</a>
                    </li>
                    <li role="presentation" ng-click="tabChange('approvalHistory')">
                        <a href="#approvalHistory" aria-controls="approvalHistory" role="tab" data-toggle="tab">{{$l('审批历史')}}</a>
                    </li>
                    <li role="presentation" ng-click="tabChange('opinion')">
                        <a href="#opinion" aria-controls="opinion" role="tab" data-toggle="tab">{{$l('流程图')}}</a>
                    </li>
                    <li ng-show="tabAction=='opinion'">
                        <ul>
                            <li style="list-style-type: square;float: left;font-size: 20px;color: #cc0033;margin-right: 30px;text-indent: -7px;">
                                <span style="font-size: 14px;">{{$l('未接收')}}</span>
                            </li>
                            <li style="list-style-type: square;float: left;font-size: 20px;color: #ff6600;margin-right: 30px;text-indent: -7px;">
                                <span style="font-size: 14px;">{{$l('办理中')}}</span>
                            </li>
                            <li style="list-style-type: square;float: left;font-size: 20px;color: #339933;margin-right: 30px;text-indent: -7px;">
                                <span style="font-size: 14px;">{{$l('已办结')}}</span>
                            </li>
                            <li style="list-style-type: square;float: left;font-size: 20px;color: #666666;margin-right: 30px;text-indent: -7px;">
                                <span style="font-size: 14px;">{{$l('预设步骤')}}</span>
                            </li>
                        </ul>
                    </li>
                </ul>

                <div ng-show="tabAction== 'requestFundsBusiness'" role="tabpanel" class="tab-pane active"
                     id="requestFundsBusiness"
                     style="border: 0;width:100%;height: 100%;overflow-y: auto;">

                    <form name="formArea" class=" mt10 pb5  "
                          data-des="此节点必需－用于识别输入表单的指令">
                        <header class="col-xs-12 mb10">
                            <i class="fa fa-cog" aria-hidden="true"></i>
                            <label>{{$l('立项详情')}}</label>
                        </header>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100"><i
                                        class="red">*</i>{{$l('项目名称')}}:</span></label>
                                <input type="text" class="form-control radius3" name="projectName" id="projectName"
                                       required
                                       ng-disabled="readonlyFlag == 'Y'"
                                       ng-change="projectNameChangeEvent();" ng-model="program.projectName">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('立项单号')}}:</span></label>
                                <input type="text" class="form-control radius3" name="projectNumber" id="projectNumber"
                                       ng-model="program.projectNumber" readonly>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('版本号')}}:</span></label>
                                <input type="text" class="form-control radius3" name="projectVersion"
                                       id="projectVersion"
                                       ng-model="program.projectVersion" readonly>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3" ng-if="program.isChangeProject == 'Y'">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100"><i
                                        class="red">*</i>{{$l('变更类型')}}:</span></label>
                                <div lookup-code="EQU_PROJECT_CHANGE_TYPE" ng-model="program.changeType" required
                                     name="changeType"></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('状态')}}:</span></label>
                                <input type="text" class="form-control radius3" name="projectStatusMeaning"
                                       ng-model="program.projectStatusMeaning" readonly>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('部门')}}:</span></label>
                                <input type="text" class="form-control radius3" name="departmentName"
                                       ng-model="program.departmentName" readonly>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('项目品类')}}:</span></label>
                                <div lookup-code="EQU_PROJECT_CATEGORY" ng-model="program.relevantCatetory" required
                                     ng-disabled="readonlyFlag == 'Y'"
                                     name="relevantCatetory" id="relevantCatetory"
                                     ng-change="relevantCatetoryChangeEvent();"></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100"><i
                                        class="red">*</i>{{$l('项目类型')}}:</span></label>
                                <div lookup-code="EQU_PROJECT_TYPE" ng-model="program.projectCategory" required
                                     ng-disabled="readonlyFlag == 'Y'"
                                     name="projectCategory" id="projectCategory"
                                     ng-change="projectCategoryChangeEvent();"></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('系列名称')}}:</span></label>
                                <input type="text" class="form-control radius3" name="seriesName"
                                       ng-disabled="readonlyFlag == 'Y'"
                                       ng-model="program.seriesName" id="seriesName"
                                       ng-change="seriesNameChangeEvent();">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100"><i
                                        class="red">*</i>{{$l('项目采购金额')}}:</span></label>
                                <input type="text" class="form-control radius3" name="projectPurchaseAmount" required
                                       ng-disabled="readonlyFlag == 'Y'"
                                       ng-model="program.projectPurchaseAmount" id="projectPurchaseAmount"
                                       ng-change="projectPurchaseAmountChangeEvent();">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="w100">{{$l('项目周期从')}}:</span></label>
                                <input type="text" class="form-control radius3 input-xs"
                                       date-time-picker data-is-today="false" name="projectCycleFrom"
                                       data-date-format="yyyy-mm-dd"
                                       ng-disabled="readonlyFlag == 'Y'"
                                       id="projectCycleFrom" ng-change="projectCycleFromChangeEvent();"
                                       data-min-View="2" ng-model="program.projectCycleFrom" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="w100">{{$l('项目周期至')}}:</span></label>
                                <input type="text" class="form-control radius3 input-xs"
                                       date-time-picker data-is-today="false" name="projectCycleTo"
                                       data-date-format="yyyy-mm-dd"
                                       ng-disabled="readonlyFlag == 'Y'"
                                       id="projectCycleTo" ng-change="projectCycleToChangeEvent();"
                                       data-min-View="2" ng-model="program.projectCycleTo" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span
                                        class="w100"><i
                                        class="red">*</i>{{$l('报价截止时间')}}:</span></label>
                                <input type="text" class="form-control radius3 readonly-white"
                                       date-time-picker data-is-today="false" name="quotationDeadline"
                                       data-start-view="2"
                                       data-date-format="yyyy-mm-dd hh:ii:ss"
                                       ng-disabled="readonlyFlag == 'Y'"
                                       id="quotationDeadline" ng-change="quotationDeadlineChangeEvent();"
                                       data-min-view="1" required
                                       ng-model="program.quotationDeadline" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i
                                            class="red">*</i>{{$l('评分标准')}}:</span></label>
                                <input type="text" class="form-control radius3"
                                       name="scoringStandard" required
                                       ng-model="program.scoringStandard" ng-focus="showScoringStander()">
                                <span class="input-group-btn">
                                                <button class="btn btn-default" ng-click="selectScoringStandard()"
                                                        ng-disabled="readonlyFlag == 'Y'"
                                                        type="button">
                                                    <i class="fa fa-search"></i></button></span>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('项目负责人')}}:</span></label>
                                <input type="text" class="form-control radius3" name="userFullName"
                                       ng-model="program.userFullName" readonly>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('创建时间')}}:</span></label>
                                <input type="text" class="form-control radius3" name="creationDate"
                                       ng-model="program.creationDate" readonly>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3" ng-if="program.projectCategory != '20'">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">
                                {{$l('项目现合作供应商')}}:</span></label>
                                <input type="text" class="form-control radius3" readonly
                                       name="presentCooperationSupplier"
                                       ng-model="program.presentCooperationSupplier">
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3" ng-if="program.projectCategory == '20'">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100"><i class="red">*</i>{{$l('项目现合作供应商')}}:</span></label>
                                <input type="text" class="form-control radius3"
                                       ng-model="program.presentCooperationSupplier" disabled required
                                       name="presentCooperationSupplier"
                                       id="presentCooperationSupplier" ng-change="presentCooperationSupplierChangeEvent();"/>
                                <span class="input-group-btn ng-scope">
                                <button class="btn btn-default" ng-click="selectpresentCooperationSupplier()" type="button">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                            </div>
                        </div>

                        <!--<div class="form-group col-xs-4 col-md-3" ng-if="program.projectCategory == '20'">-->
                            <!--<div class="input-group input-group-xs">-->
                                <!--<label class="input-group-addon bn"><span class="w100">-->
                                    <!--<i class="red">*</i>项目现合作供应商:</span></label>-->
                                <!--<input type="text" class="form-control radius3" required-->
                                       <!--name="presentCooperationSupplier"-->
                                       <!--id="presentCooperationSupplier"-->
                                       <!--ng-change="presentCooperationSupplierChangeEvent();"-->
                                       <!--ng-model="program.presentCooperationSupplier">-->
                            <!--</div>-->
                        <!--</div>-->

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100"><i
                                        class="red">*</i>{{$l('感官测试类型')}}:</span></label>
                                <div lookup-code="EQU_SENSORY_TEST_TYPE" ng-model="program.sensoryTestTypes" required
                                     id="sensoryTestTypes" ng-change="sensoryTestTypesChangeEvent();"
                                     ng-disabled="readonlyFlag == 'Y'"
                                     name="sensoryTestTypes"></div>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn">
                                    <span class="w100">Brand Team{{$l('负责人')}}:</span></label>
                                <input type="text" disabled class="form-control radius3"
                                       name="brandTeamPersonName"
                                       ng-model="program.brandTeamPersonName">
                                <span class="input-group-btn">
                                                <button class="btn btn-default" ng-click="selectBrandTeamPerson()"
                                                        ng-disabled="readonlyFlag == 'Y'"
                                                        type="button">
                                                    <i class="fa fa-search"></i></button></span>
                            </div>
                        </div>

                        <div class="form-group col-xs-4 col-md-3" ng-if="program.isChangeProject == 'Y'">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('附件')}}:</span></label>
                                <input type="file" name="file" ng-if="program.fileId==null && readonlyFlag != 'Y'"
                                       id="file"
                                       emms-file-upload="myFile"
                                       onchange="angular.element(this).scope().uploadProjectFile()">
                                <span class="input-group-addon bn" ng-if="program.fileId!=null"
                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:blue;display: block;width: 220px;"
                                       href="{{program.filePath}}"
                                       target="_blank">{{program.fileName}}
                                    </a>&nbsp;&nbsp;
                            </span>
                                <span class="input-group-btn">
                                <button type="button" ng-click="changeProjectFile()" class="btn btn-primary btn-xs"
                                        ng-if="program.fileId!=null && readonlyFlag != 'Y'"
                                >
                                <i class="fa fa-plus">{{$l('重新上传')}}</i>
                            </button>
                                                </span>
                            </div>
                        </div>

                        <div class="form-group col-xs-12 col-md-12">
                            <div class="input-group input-group-xs">
                                <label class="input-group-addon bn"><span class="w100">{{$l('备注说明')}}:</span></label>
                                <textarea class="form-control radius3" rows="3"
                                          ng-disabled="readonlyFlag == 'Y'"
                                          style="height: auto"
                                          name="remark"
                                          ng-model="program.remark"/>
                            </div>
                        </div>

                        <!--<div class="form-group col-xs-4 col-md-9">-->
                            <!--<div class="input-group input-group-xs">-->
                                <!--<label class="input-group-addon bn"><span class="w100">备注说明:</span></label>-->
                                <!--<textarea rows="2" name="remark"-->
                                       <!--id="remark" ng-change="remarkChangeEvent();"-->
                                       <!--ng-disabled="readonlyFlag == 'Y'"-->
                                       <!--ng-model="program.remark">-->
                            <!--</div>-->
                        <!--</div>-->
                    </form>
                    <!--------------------- ./  输入表单  --->
                    <hr width="100%">
                    <div class="col-xs-12 col-md-12 br h p0" style="margin-right: -1px;">
                        <ul id="tab" class="nav nav-tabs">
                            <li class="active">
                                <a href="#projectInfo" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label><i class="red">*</i>{{$l('立项资料')}}</label></a>
                            </li>
                            <li>
                                <a href="#productSpecs" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label><i class="red">*</i>3.1{{$l('产品规格')}}</label></a>
                            </li>
                            <li>
                                <a href="#supplierInvitation" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label><i class="red">*</i>{{$l('邀请供应商列表')}}</label></a>
                            </li>
                            <li>
                                <a href="#nonPriceFile" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label><i class="red">*</i>{{$l('非价格文件')}}</label></a>
                            </li>
                            <li>
                                <a href="#priceFile" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label><i class="red">*</i>{{$l('价格文件')}}</label></a>
                            </li>
                            <li>
                                <a href="#scoringTeam" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label>{{$l('评分小组')}}</label></a>
                            </li>
                            <li>
                                <a href="#witnessTeam" data-toggle="tab"><i class="fa fa-list-alt"></i>
                                    <label>{{$l('见证小组')}}</label></a>
                            </li>
                        </ul>
                        <div id="tabContent" class="tab-content">
                            <!--立项资料-->
                            <div class=" tab-pane fade in  active" id="projectInfo">
                                <header class="mb5 mt10">
                                    <button type="button" class="btn btn-default btn-xs pull-right"
                                            ng-disabled="readonlyFlag == 'Y'"
                                            ng-click="addProjectInfo()">
                                        <i class="fa fa-plus"></i>{{$l('新增立项资料')}}
                                    </button>
                                    <div class="clearfix"></div>
                                </header>
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th><i class="red">*</i>{{$l('文件名称')}}</th>
                                            <th>{{$l('说明')}}</th>
                                            <th><i class="red">*</i>{{$l('附件')}}</th>
                                            <th>{{$l('操作')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in projectInfoDataTable"
                                            ng-class="{'active':projectInfoDataTable.selectRow==$index}"
                                            ng-click="projectInfoDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <div class="form-control input-xs" lookup-code="EQU_PROJECT_FILE_NAME"
                                                     ng-model="row.attachmentName" id="attachmentName{{row.index}}"
                                                     ng-disabled="readonlyFlag == 'Y'"
                                                     name="attachmentName"
                                                     ng-change="attachmentNameChangeEvent(row);"></div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control input-xs" name="description"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-change="descriptionChangeEvent(row);"
                                                       id="description{{row.index}}"
                                                       ng-model="row.description">
                                            </td>
                                            <td class="text-left">
                                                <input type="file" name="file"
                                                       ng-if="(row.fileId==null  || row.fileId == '') && readonlyFlag != 'Y'"
                                                       id="projectInfoFile{{row.index}}"
                                                       emms-file-upload="myFile"
                                                       onchange="angular.element(this).scope().uploadProjectInfoFile()">
                                                <span class="input-group-addon bn"
                                                      ng-if="row.fileId!=null && row.fileId!='' && row.isChange != 'Y'"
                                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:blue;display: block;width: 220px;"
                                       href="{{row.filePath}}"
                                       target="_blank">{{row.fileName}}
                                    </a>&nbsp;&nbsp;
                            </span>
                                                <span class="input-group-addon bn"
                                                      ng-if="row.fileId!=null && row.fileId!='' && row.isChange == 'Y'"
                                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:red;display: block;width: 220px;"
                                       href="{{row.filePath}}"
                                       target="_blank">{{row.fileName}}
                                    </a>&nbsp;&nbsp;
                            </span>
                                                <!--<span class="input-group-btn">-->
                                                <button type="button" ng-click="changeFile(row)"
                                                        class="btn btn-primary btn-xs"
                                                        ng-if="row.fileId!=null && row.fileId != '' && readonlyFlag != 'Y'"
                                                >
                                                    <i class="fa fa-plus">{{$l('重新上传')}}</i>
                                                </button>
                                                <!--</span>-->
                                            </td>
                                            <td>
                                                <button type="button" title="删除" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #ff5715;"
                                                        ng-disabled="readonlyFlag == 'Y'"
                                                        ng-click="deleteProjectInfoFile(row,$index)">
                                                    {{$l('删除')}}
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <!--产品规格-->
                            <div class="tab-pane fade in" id="productSpecs">
                                <header class="mb5 mt10">
                                    <button type="button" class="btn btn-default btn-xs pull-right"
                                            ng-disabled="readonlyFlag == 'Y'"
                                            ng-click="addProductSpecsInfo()">
                                        <i class="fa fa-plus"></i>{{$l('新增')}}
                                    </button>
                                    <button class="btn btn-default btn-xs pull-right"
                                            ng-disabled="readonlyFlag == 'Y'"
                                            onclick="window.location.href='app/base/templates/Equotation/exampleFlie/productSpecsTemplate.xlsx'">
                                        <i class="fa fa-file-excel-o"></i>{{$l('导入模板下载')}}
                                    </button>

                                    <button type="button" class="btn btn-default btn-xs pull-right"
                                            saaf-xls-import-component
                                            data-list-options="{
                                                            productName:{headName:'产品名称'},
                                                            targetCost:{headName:'目标成本(元)'},
                                                            annualSalesQuantity:{headName:'预估年销售量'},
                                                            annualSalesAmount:{headName:'预估年销售金额(元)'}}"
                                            data-url="importProductSpecsInfo"
                                            data-info="{projectId:'{{program.projectId}}'}"
                                            data-after-action="returnFlash()"
                                            data-message="产品名称/目标成本(元)/预估年销售量/预估年销售金额(元)均不能为空"
                                            ng-disabled="readonlyFlag == 'Y' || program.projectId == undefined">
                                        <i class="fa fa-upload"></i>{{$l('导入')}}
                                    </button>
                                    <div class="clearfix"></div>
                                </header>
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th><i class="red">*</i>{{$l('产品名称')}}</th>
                                            <th><i class="red">*</i>{{$l('目标成本(元)')}}</th>
                                            <th><i class="red">*</i>{{$l('预估年销售量')}}</th>
                                            <th><i class="red">*</i>{{$l('预估年销售金额')}}</th>
                                            <th>{{$l('操作')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in productSpecsDataTable"
                                            ng-class="{'active':productSpecsDataTable.selectRow==$index}"
                                            ng-click="productSpecsDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td><input class="form-control input-xs" ng-model="row.productName"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-change="productNameChangeEvent(row);"
                                                       id="productName{{row.index}}">
                                            </td>
                                            <td><input class="form-control input-xs" ng-model="row.targetCost"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-change="targetCostChangeEvent(row);"
                                                       id="targetCost{{row.index}}">
                                            </td>
                                            <td><input class="form-control input-xs" ng-model="row.annualSalesQuantity"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-change="annualSalesQuantityChangeEvent(row);"
                                                       id="annualSalesQuantity{{row.index}}">
                                            </td>
                                            <td><input class="form-control input-xs" ng-model="row.annualSalesAmount"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-change="annualSalesAmountChangeEvent(row);"
                                                       id="annualSalesAmount{{row.index}}">
                                            </td>
                                            <td>
                                                <button type="button" title="删除" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #ff5715;"
                                                        ng-disabled="readonlyFlag == 'Y'"
                                                        ng-click="deleteProjectSpecsInfo(row,$index)">
                                                    {{$l('删除')}}
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                            <!--邀请供应商列表-->
                            <div class="tab-pane fade in" id="supplierInvitation">
                                <header class="mb5 mt10">
                                    <button type="button" class="btn btn-default btn-xs pull-right"
                                            ng-disabled="readonlyFlag == 'Y'"
                                            ng-click="addSupplierInvitation()">
                                        <i class="fa fa-plus"></i>{{$l('新增')}}
                                    </button>
                                    <div class="clearfix"></div>
                                </header>
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th><i class="red">*</i>{{$l('供应商名称')}}</th>
                                            <th>{{$l('供应商档案号')}}</th>
                                            <th>{{$l('关联供应商')}}</th>
                                            <th>{{$l('供应商报价状态')}}</th>
                                            <th ng-if="program.isChangeProject == 'Y'">{{$l('新增/退出原因')}}</th>
                                            <th><i class="red">*</i>{{$l('报价联系人')}}</th>
                                            <th><i class="red">*</i>{{$l('OI%')}}</th>
                                            <th>{{$l('操作')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in supplierInvitationDataTable"
                                            ng-class="{'active':supplierInvitationDataTable.selectRow==$index}"
                                            ng-click="supplierInvitationDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <div class="input-group input-group-xs">
                                                    <input class="form-control radius3" ng-model="row.supplierName"
                                                           name="{{'supplierName'+$index}}"
                                                           ng-change="supplierNameChangeEvent(row);"
                                                           id="supplierName{{row.index}}"
                                                           readonly type="text"/>
                                                    <span class="input-group-btn ng-scope">
                                        <button class="btn btn-default" ng-click="getSupplierInfo()" type="button"
                                                ng-disabled="readonlyFlag == 'Y'">
                                            <i class="fa fa-search"></i>
                                        </button>
                                                    </span>
                                                </div>
                                            </td>
                                            <td>{{row.supplierNumber}}
                                            </td>

                                            <td>
                                                <div class="input-group input-group-xs">
                                                    <input class="form-control radius3"
                                                           ng-model="row.associateFactoryName"
                                                           name="{{'associateFactoryName'+$index}}"
                                                           ng-change="associateFactoryNameChangeEvent(row);"
                                                           id="associateFactoryName{{row.index}}"
                                                           readonly type="text"/>
                                                    <span class="input-group-btn ng-scope">
                                        <button class="btn btn-default" ng-click="getAssociateFactoryInfo(row)"
                                                type="button" ng-disabled="readonlyFlag == 'Y'">
                                            <i class="fa fa-search"></i>
                                        </button>
                                                    </span>
                                                </div>
                                            </td>
                                            <td>{{row.supplierStatus}}</td>
                                            <td ng-if="program.isChangeProject == 'Y'"><input
                                                    class="form-control input-xs" ng-model="row.reason"
                                                    ng-disabled="readonlyFlag == 'Y'">
                                            </td>

                                            <td>
                                                <div class="input-group input-group-xs">
                                                    <input class="form-control radius3" ng-model="row.contactName"
                                                           name="{{'contactName'+$index}}"
                                                           ng-change="contactNameChangeEvent(row);"
                                                           id="contactName{{row.index}}"
                                                           readonly type="text"/>
                                                    <span class="input-group-btn ng-scope">
                                        <button class="btn btn-default" ng-click="getSupplierContactInfo(row)"
                                                ng-disabled="readonlyFlag == 'Y'"
                                                type="button">
                                            <i class="fa fa-search"></i>
                                        </button>
                                                    </span>
                                                </div>
                                            </td>
                                            <td><input class="form-control input-xs" type="number" step="1" min="0"
                                                       οnkeyup="this.value= this.value.match(/\d+(\.\d{0,2})?/) ? this.value.match(/\d+(\.\d{0,2})?/)[0] : ''"
                                                       ng-model="row.oiPercent" ng-disabled="readonlyFlag == 'Y'"></td>
                                            <td>
                                                <button type="button" title="删除" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #ff5715;"
                                                        ng-if="program.projectVersion == row.projectVersion"
                                                        ng-click="deleteSupplierInvitation(row,$index)"
                                                        ng-disabled="readonlyFlag == 'Y'">
                                                    {{$l('删除')}}
                                                </button>
                                                <button type="button" title="退出" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #1132ff;"
                                                        ng-if="program.projectVersion != row.projectVersion && row.isQuit == 'N' && row.invitationId > 0"
                                                        ng-click="quitSupplierInvitation(row,$index)"
                                                        ng-disabled="readonlyFlag == 'Y'">
                                                    {{$l('退出')}}
                                                </button>
                                                <button type="button" title="已退出" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #c1c8be;" disabled
                                                        ng-if="program.projectVersion != row.projectVersion  && row.isQuit == 'Y'">
                                                    {{$l('已退出')}}
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                            <!--非价格文件-->
                            <div class="tab-pane fade in" id="nonPriceFile">

                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('选择')}}</th>
                                            <th>{{$l('文件名称')}}</th>
                                            <th>{{$l('说明')}}</th>
                                            <th>{{$l('附件')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in nonPriceSelectFileDataTable"
                                            ng-class="{'active':nonPriceSelectFileDataTable.selectRow==$index}"
                                            ng-click="nonPriceSelectFileDataTable.selectRow=$index">
                                            <td><input type="checkbox" ng-true-value="'Y'" ng-false-value="'N'"
                                                       ng-change="selectedFlagChangeEvent(row);"
                                                       id="selectedFlag{{row.index}}"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-model="row.selectedFlag"/>
                                            </td>
                                            <td><span id="attachmentName2{{row.index}}">{{row.attachmentName}}</span>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control input-xs" name="description"
                                                       ng-change="description2ChangeEvent(row);"
                                                       id="description2{{row.index}}"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-model="row.description">
                                            </td>
                                            <td class="text-left">
                                            <span class="input-group-addon bn"
                                                  ng-if="row.fileId!=null && row.fileId!=''"
                                                  style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                                <a class="ellipsis" style="color:blue;display: block;width: 220px;"
                                                   href="{{row.filePath}}"
                                                   target="_blank">{{row.fileName}}
                                                </a>&nbsp;&nbsp;
                                            </span>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <header class="mb5 mt10">
                                    <button type="button" class="btn btn-default btn-xs pull-right"
                                            ng-click="addNonPriceFile()"
                                            ng-disabled="readonlyFlag == 'Y'">
                                        <i class="fa fa-plus"></i>{{$l('新增')}}
                                    </button>
                                    <div class="clearfix"></div>
                                </header>
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th><i class="red">*</i>{{$l('文件名称')}}</th>
                                            <th>{{$l('说明')}}</th>
                                            <th><i class="red">*</i>{{$l('附件')}}</th>
                                            <th>{{$l('操作')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in nonPriceFileDataTable"
                                            ng-class="{'active':nonPriceFileDataTable.selectRow==$index}"
                                            ng-click="nonPriceFileDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <input type="text" class="form-control input-xs" name="attachmentName"
                                                       ng-change="attachmentName3ChangeEvent(row);"
                                                       id="attachmentName3{{row.index}}"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-model="row.attachmentName">
                                            </td>
                                            <td>
                                                <input type="text" class="form-control input-xs" name="description"
                                                       ng-change="description3ChangeEvent(row);"
                                                       id="description3{{row.index}}"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-model="row.description">
                                            </td>
                                            <td class="text-left">
                                                <input type="file" name="file"
                                                       ng-if="(row.fileId==null  || row.fileId == '') && readonlyFlag != 'Y'"
                                                       id="nonPriceFile{{row.index}}"
                                                       emms-file-upload="myFile"
                                                       onchange="angular.element(this).scope().uploadNonPriceFile()">
                                                <span class="input-group-addon bn"
                                                      ng-if="row.fileId!=null && row.fileId!='' && row.isChange != 'Y'"
                                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:blue;display: block;width: 220px;"
                                       href="{{row.filePath}}"
                                       target="_blank">{{row.fileName}}
                                    </a>&nbsp;&nbsp;
                                           </span>
                                                <span class="input-group-addon bn"
                                                      ng-if="row.fileId!=null && row.fileId!='' && row.isChange == 'Y'"
                                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:red;display: block;width: 220px;"
                                       href="{{row.filePath}}"
                                       target="_blank">{{row.fileName}}
                                    </a>&nbsp;&nbsp;
                                           </span>
                                                <!--<span class="input-group-btn">-->
                                                <button type="button" ng-click="changeFile(row)"
                                                        class="btn btn-primary btn-xs"
                                                        ng-if="row.fileId!=null && row.fileId != '' && readonlyFlag != 'Y'"
                                                >
                                                    <i class="fa fa-plus">{{$l('重新上传')}}</i>
                                                </button>
                                                <!--</span>-->
                                            </td>
                                            <td>
                                                <button type="button" title="删除" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #ff5715;"
                                                        ng-disabled="readonlyFlag == 'Y'"
                                                        ng-click="deleteNonPriceFile(row,$index)">
                                                    {{$l('删除')}}
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                            <!--价格文件-->
                            <div class="tab-pane fade in" id="priceFile">
                                <header class="mb5 mt10">
                                    <button type="button" class="btn btn-default btn-xs pull-right"
                                            ng-click="addPriceFile()"
                                            ng-disabled="readonlyFlag == 'Y'">
                                        <i class="fa fa-plus"></i>{{$l('新增')}}
                                    </button>
                                    <div class="clearfix"></div>
                                </header>
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th><i class="red">*</i>{{$l('文件名称')}}</th>
                                            <th>{{$l('说明')}}</th>
                                            <th><i class="red">*</i>{{$l('附件')}}</th>
                                            <th>{{$l('操作')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in priceFileDataTable"
                                            ng-class="{'active':priceFileDataTable.selectRow==$index}"
                                            ng-click="priceFileDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <div class="form-control input-xs"
                                                     lookup-code="EQU_PROJECT_PRICE_FILE_NAME"
                                                     ng-change="attachmentName4ChangeEvent(row);"
                                                     id="attachmentName4{{row.index}}"
                                                     ng-model="row.attachmentName"
                                                     ng-disabled="readonlyFlag == 'Y'"
                                                     name="attachmentName"></div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control input-xs" name="description"
                                                       ng-change="description4ChangeEvent(row);"
                                                       id="description4{{row.index}}"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-model="row.description">
                                            </td>
                                            <td class="text-left">
                                                <input type="file" name="file"
                                                       ng-if="(row.fileId==null  || row.fileId == '') && readonlyFlag != 'Y'"
                                                       id="priceFile{{row.index}}"
                                                       emms-file-upload="myFile"
                                                       onchange="angular.element(this).scope().uploadPriceFile()">
                                                <span class="input-group-addon bn"
                                                      ng-if="row.fileId!=null && row.fileId!='' && row.isChange != 'Y'"
                                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:blue;display: block;width: 220px;"
                                       href="{{row.filePath}}"
                                       target="_blank">{{row.fileName}}
                                    </a>&nbsp;&nbsp;
                                           </span>
                                                <span class="input-group-addon bn"
                                                      ng-if="row.fileId!=null && row.fileId!='' && row.isChange == 'Y'"
                                                      style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                    <a class="ellipsis" style="color:red;display: block;width: 220px;"
                                       href="{{row.filePath}}"
                                       target="_blank">{{row.fileName}}
                                    </a>&nbsp;&nbsp;
                                           </span>
                                                <!--<span class="input-group-btn">-->
                                                <button type="button" ng-click="changeFile(row)"
                                                        class="btn btn-primary btn-xs"
                                                        ng-if="row.fileId!=null && row.fileId != '' && readonlyFlag != 'Y'"
                                                >
                                                    <i class="fa fa-plus">{{$l('重新上传')}}</i>
                                                </button>
                                                <!--</span>-->
                                            </td>
                                            <td>
                                                <button type="button" title="删除" class="btn btn-danger btn-samll"
                                                        style="padding: 0px 8px;background-color: #ff5715;"
                                                        ng-disabled="readonlyFlag == 'Y'"
                                                        ng-click="deletePriceFile(row,$index)">
                                                    {{$l('删除')}}
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                            <!--评分小组-->
                            <div class="tab-pane fade in" id="scoringTeam">
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th>{{$l('成员')}}</th>
                                            <th>{{$l('员工编号')}}</th>
                                            <th>{{$l('说明')}}</th>
                                            <th>{{$l('职责')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in scoringTeamDataTable"
                                            ng-class="{'active':scoringTeamDataTable.selectRow==$index}"
                                            ng-click="scoringTeamDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <span ng-if="row.fixFlag == 'Y'">{{row.memberName}}</span>
                                                <div class="input-group input-group-xs" ng-if="row.fixFlag != 'Y'">
                                                    <input class="form-control radius3" ng-model="row.memberName"
                                                           name="{{'scoringMemberName'+$index}}"
                                                           readonly type="text"/>
                                                    <span class="input-group-btn ng-scope">
                                                    <button class="btn btn-default" ng-click="getScoringTeamMember()"
                                                            type="button"
                                                            ng-disabled="readonlyFlag == 'Y'">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </span>
                                                </div>
                                            </td>
                                            <td>
                                                {{row.memberNumber}}
                                            </td>
                                            <td>
                                                <input type="text" class="form-control input-xs" name="description"
                                                       ng-disabled="readonlyFlag == 'Y'"
                                                       ng-model="row.description"/>
                                            </td>
                                            <td>
                                                {{row.memberRole}}
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                            <!--见证小组-->
                            <div class="tab-pane fade in" id="witnessTeam">
                                <div class="data-table">
                                    <table
                                            class="table table-bordered table-hover table-condensed">
                                        <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                        <tr class="text-center">
                                            <th>{{$l('序号')}}</th>
                                            <th>{{$l('角色')}}</th>
                                            <th>{{$l('默认人员')}}</th>
                                            <th>{{$l('部门')}}</th>
                                            <th>{{$l('见证人')}}</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-center" ng-repeat="row in witnessTeamDataTable"
                                            ng-class="{'active':witnessTeamDataTable.selectRow==$index}"
                                            ng-click="witnessTeamDataTable.selectRow=$index">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                {{row.roleName}}
                                            </td>
                                            <td>
                                                <div class="input-group input-group-xs">
                                                    <input class="form-control radius3" ng-model="row.defaultMemberName"
                                                           name="{{'defaultMemberName'+$index}}"
                                                           readonly type="text"/>
                                                    <span class="input-group-btn ng-scope">
                                                    <button class="btn btn-default"
                                                            ng-click="getWitnessTeamDefaultMember(row.roleName)"
                                                            type="button"
                                                            ng-disabled="readonlyFlag == 'Y'">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </span>
                                                </div>
                                            </td>
                                            <td>
                                                {{row.deptName}}
                                            </td>
                                            <td>
                                                <div class="input-group input-group-xs">
                                                    <input class="form-control radius3" ng-model="row.witnessMemberName"
                                                           name="{{'witnessMemberName'+$index}}"
                                                           readonly type="text"/>
                                                    <span class="input-group-btn ng-scope">
                                                    <button class="btn btn-default"
                                                            ng-click="getWitnessTeamMember(row.roleName)" type="button"
                                                            ng-disabled="readonlyFlag == 'Y'">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </span>
                                                </div>
                                            </td>

                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-show="tabAction== 'approvalHistory'" role="tabpanel" class="tab-pane"
                     id="approvalHistory"
                     style="border: 0;width:100%;height: 100%;overflow-y: auto;">
                    <div class="pl15 pr15 pr">
                        <h5><span class="fa  fa-pencil-square-o"></span>{{$l('审批历史')}}</h5>
                        <div base-data-table="taskTable" id="taskTable"
                             data-url="processFindHistoricActivities"
                             data-page-size="20"
                             data-onload="historicListLoad"
                             data-auto-request="true"
                             ng-params="processInstanceParams"
                             data-legend='[{"value": "taskName","name": "节点名称",style:"width:10%"},
                                 {"value": "userFullName","name": "处理人",style:"width:16%;"},
                                 {"value": "his_detail_option","name": "处理结果",style:"width:8%;"},
                                 {"value": "his_detail_opinion","name": "审批意见",nowrap:false,"maxWidth":"700px"},
                                 {"value": "startTime","name": "审批开始时间",style:"width:136px;"},
                                 {"value": "endTime","name": "审批结束时间",style:"width:136px;"}]'>
                        </div>
                    </div>
                </div>

                <div ng-if="!urlParams.businessKey" ng-show="tabAction== 'opinion'" role="tabpanel" class="tab-pane "
                     id="opinion"
                     style="border: 0;width:100%;height: 100%; overflow: hidden;position: relative;">
                    <div id="processImg" style="width: 100%;height:100%; overflow: auto;">{{$l('流程图加载中，请稍候')}}...</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="selectScoringStandardLov" data-backdrop="static" tabindex="-1">
        <div class="modal-dialog modal-dialog-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="close()"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel1">
                        {{$l('评分标准选择')}}
                    </h4>
                </div>
                <div class="modal-body">
                    <form class="">
                        <div class="row">
                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn">
                                        <span class="w110 inline-block tr">{{$l('评分标准名称')}}</span>
                                    </label>
                                    <input type="text" class="form-control radius3"
                                           ng-model="current.standardsName" {{status}}
                                           data-container="body" data-toggle="popover" data-trigger="manual"
                                           data-placement="bottom" data-content="请填写产品名称"/>
                                </div>
                            </div>
                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn">
                                        <span class="w110 inline-block tr">{{$l('评分标准单号')}}</span></label>
                                    <input type="text" class="form-control radius3"
                                           ng-model="current.standardsCode"/>
                                </div>
                            </div>
                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn">
                                        <span class="w110 inline-block tr">{{$l('单据状态')}}</span></label>
                                    <input type="text" class="form-control radius3" readonly
                                           ng-model="current.standardsStatusName"/>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn"><span class="w110 inline-block tr">{{$l('创建时间从')}}</span></label>
                                    <input type="text" class="form-control radius3 input-xs"
                                           date-time-picker data-is-today="false" name="creationDateFrom"
                                           data-date-format="yyyy-mm-dd"
                                           data-min-View="2" ng-model="current.creationDateFrom" autocomplete="off">
                                </div>
                            </div>

                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn"><span class="w110 inline-block tr">{{$l('创建时间至')}}</span></label>
                                    <input type="text" class="form-control radius3 input-xs"
                                           date-time-picker data-is-today="false" name="creationDateTo"
                                           data-date-format="yyyy-mm-dd"
                                           data-min-View="2" ng-model="current.creationDateTo" autocomplete="off">
                                </div>
                            </div>

                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn">
                                        <span class="w110 inline-block tr">{{$l('部门')}}</span></label>
                                    <input type="text" class="form-control radius3" readonly
                                           ng-model="current.deptCode"/>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-xs-4 col-md-4">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn">
                                        <span class="w110 inline-block tr">{{$l('创建人')}}</span></label>
                                    <input type="text" class="form-control radius3"
                                           ng-model="current.createdByName"/>
                                </div>
                            </div>
                            <div class="form-group col-xs-4 col-md-8">
                                <button type="button" class="btn btn-primary btn-sm pull-right"
                                        ng-click="findScoringStandard()">{{$l('查询')}}
                                </button>
                            </div>

                        </div>

                        <fieldset class="currentList mb10" ng-if="isLovSelect=='Y'">
                            <legend class="text-brand-primary">{{$l('当前挑选')}}</legend>
                            <ul>
                                <li>
                                    <label>
                                        {{params.radioValue}}
                                    </label>
                                </li>
                            </ul>
                        </fieldset>

                        <div class="data-table">
                            <table saaf-table="lovDataTable"
                                   class="table table-bordered table-hover table-condensed"
                                   data-url="findPonStandardsInfo"
                                   data-params="current"
                                   data-checked-type="radio"
                                   data-auto-get-data="true"
                                   data-page-rows="10">
                                <thead class="bg-gray-white" style="background-color: #E2EFEF">
                                <tr class="text-center">
                                    <th style="width: 10%;">{{$l('选择')}}</th>
                                    <th>{{$l('评分标准单号')}}</th>
                                    <th>{{$l('评分标准名称')}}</th>
                                    <th>{{$l('单据状态')}}</th>
                                    <th>{{$l('说明')}}</th>
                                    <th>{{$l('创建时间')}}</th>
                                    <th>{{$l('创建人')}}</th>
                                </tr>
                                </thead>
                                <tbody ng-show="lovDataTable.data">
                                <tr class="text-center" ng-repeat="row in lovDataTable.data"
                                    ng-click="selectRow(row,lovDataTable.data)"
                                    ng-class="{'active':lovDataTable.data.selectRow==$index}"
                                    ng-click="lovDataTable.data.selectRow=$index;
                                        lovDataTable.data.selectRowData =row;">

                                    <td class="w50">
                                        <input type="radio" name="isEffective" value="2" ng-model="row.isSelect"
                                               ng-checked="row.isSelect=='Y'"></td>
                                    <td>{{row.standardsCode}}
                                    </td>
                                    <td>{{row.standardsName}}</td>
                                    <td>{{row.standardsStatusName}}</td>
                                    <td>{{row.remark}}</td>
                                    <td>
                                        {{row.creationDate}}
                                    </td>
                                    <td>
                                        {{row.createdByName}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="modal-footer">
                            <!-- 分页-->
                            <div saaf-table-tfoot="lovDataTable" ng-show="lovDataTable.data.length>0"></div>
                            <div>
                                <button type="button" ng-class="{'mt10': paging.total }" class="btn btn-default btn-sm "
                                        ng-click="cancel()" data-dismiss="modal">{{$l('取消选择')}}
                                </button>
                                <button type="button" ng-class="{'mt10': paging.total }" class="btn btn-primary btn-sm "
                                        ng-click="selectScoringStandardReturn()" data-dismiss="modal">{{$l('确定')}}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div lov-list="selectpresentCooperationSupplierLov" role="dialog" data-title="选择项目现合作供应商" id="selectpresentCooperationSupplierLov" ng-model="current.em"
         data-url="findSupplierInfoLov"
         data-dynamic-params='selectSupplierParams'
         data-callback="selectpresentCooperationSupplierReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'supplierNumber','value':'supplierNumber','name':'供应商档案号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'供应商名称','key':'supplierName'},{'name':'供应商状态','key':'supplierStatusMeaning'}]"
         data-search-key="[{'key':'supplierName','placeholder':'供应商名称'},
                          {'key':'supplierNumber','placeholder':'供应商档案号'}]"
    >
    </div>

    <div lov-list="selectSupplierLov" role="dialog" data-title="选择供应商" id="selectSupplierLov" ng-model="current.em"
         data-url="findSupplierInfoLov"
         data-dynamic-params='selectSupplierParams'
         data-callback="selectSupplierReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'supplierNumber','value':'supplierNumber','name':'供应商档案号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'供应商名称','key':'supplierName'},{'name':'供应商状态','key':'supplierStatusMeaning'}]"
         data-search-key="[{'key':'supplierName','placeholder':'供应商名称'},
                          {'key':'supplierNumber','placeholder':'供应商档案号'}]"
    >
    </div>

    <div lov-list="selectFactoryLov" role="dialog" data-title="选择关联供应商" id="selectFactoryLov" ng-model="current.em"
         data-url="findAssociatedSupplier"
         data-dynamic-params='selectFactoryParams'
         data-callback="selectFactoryReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'supplierNumber','value':'supplierNumber','name':'供应商档案号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'供应商名称','key':'supplierName'}]"
         data-search-key="[{'key':'supplierName','placeholder':'供应商名称'},
                          {'key':'supplierNumber','placeholder':'供应商档案号'}]"
    >
    </div>

    <div lov-list="selectQuotationContactLov" role="dialog" data-title="选择报价联系人" id="selectQuotationContactLov"
         ng-model="current.em"
         data-url="findSupplierContactsInfo"
         data-dynamic-params='selectQuotationContactParams'
         data-callback="selectQuotationContactReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'contactName','value':'contactName','name':'姓名'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'联系电话','key':'mobilePhone'},{'name':'邮箱','key':'emailAddress'},{'name':'办公电话','key':'fixedPhone'},{'name':'职务','key':'positionName'},{'name':'负责品类','key':'respCategory'},{'name':'备注','key':'remark'}]"
         data-search-key="[{'key':'contactName','placeholder':'联系人姓名'}]"
    >
    </div>

    <div lov-list="selectScoringMemberLov" role="dialog" data-title="选择评分小组成员" id="selectScoringMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectScoringMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectWitnessIADefaultMemberLov" role="dialog" data-title="选择IA见证小组默认人员"
         id="selectWitnessIADefaultMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectWitnessDefaultMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectWitnessQADefaultMemberLov" role="dialog" data-title="选择QA见证小组默认人员"
         id="selectWitnessQADefaultMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectWitnessDefaultMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectWitnessSecurityDefaultMemberLov" role="dialog" data-title="选择Security见证小组默认人员"
         id="selectWitnessSecurityDefaultMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectWitnessDefaultMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectWitnessIAMemberLov" role="dialog" data-title="选择IA见证小组见证人" id="selectWitnessIAMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectWitnessMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectWitnessQAMemberLov" role="dialog" data-title="选择QA见证小组见证人" id="selectWitnessQAMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectWitnessMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectWitnessSecurityMemberLov" role="dialog" data-title="选择Security见证小组见证人"
         id="selectWitnessSecurityMemberLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-params=''
         data-callback="selectWitnessMemberReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

    <div lov-list="selectBrandTeamManagerLov" role="dialog" data-title="选择Brand Team负责人"
         id="selectBrandTeamManagerLov"
         ng-model="current.em"
         data-url="findScoringMemberLov"
         data-dynamic-params='selectBrandTeamParams'
         data-callback="selectBrandTeamManagerReturn"
         data-auto-request="true"
         data-return-type="key"
         data-pagination="{'pageIndex':'1','pageRows':'5'}"
         data-checked-type="radio"
         data-keys="{'key':'employeeNumber','value':'employeeNumber','name':'员工编号'}"
         data-show-index="false"
         data-type="competitor"
         data-other-column="[{'name':'员工姓名','key':'personName'}]"
         data-search-key="[{'key':'personName','placeholder':'员工姓名'},{'key':'employeeNumber','placeholder':'员工编号'}]"
    >
    </div>

</div>