<div ng-controller="monitorPriceInfoCtrl">
    <!--监控供应商报价-->
    <form class="form bg-white" data-des="此节点必需－内框页面的指令">
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="btn-group btn-group-xs ">
                    <button class="btn btn-primary" ng-click="fullWindow($event)"><i class="fa fa-square-o"></i>{{ $l('数据全屏')}}
                    </button>
                </div>
            </div>
        </div>
        <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
            <div class="nicescroll-height  bg-white " ng-nicescroll
                 nice-option="{cursorcolor: '#998279',cursorwidth:10}" data-des="此节点必需-滚动内容及指令">
                <!--------------------- 输入表单  --->
                <div class="mt10 pb5 bb oh pl20" data-des="此节点必需－用于识别输入表单的指令">

                    <h4 class="mb20">{{ $l('监控供应商报价')}}</h4>
                    <div class="col-xs-4 col-md-4">
                        <p>{{ $l('立项单号')}}:{{params.projectNumber}}</p>
                    </div>
                    <div class="col-xs-4 col-md-4">
                        <p>{{ $l('项目名称')}}:{{params.projectName}}</p>
                    </div>
                    <div class="col-xs-4 col-md-4">
                        <p>{{ $l('版本号')}}:{{params.projectVersion}}</p>
                    </div>
                    <div class="col-xs-4 col-md-4">
                        <p>{{ $l('单据状态')}}:{{params.projectStatusName}}</p>
                    </div>
                    <div class="col-xs-4 col-md-4">
                        <p>{{ $l('开始时间')}}:{{params.sendQuotationInvitationDate}}</p>
                    </div>
                    <div class="col-xs-4 col-md-4">
                        <p>{{ $l('结束时间')}}：{{params.projectCycleTo}}</p>
                    </div>
                </div>
                <!--------------------- ./  输入表单  --->

                <!--------------------- ./  图表　　  --->
                <!--<div class="mt10 pb5 bb" id="echarts" style="height: 300px">-->
                <!--</div>-->
                <!--------------------- ./  图表　　  --->

                <!-- <div class="mt10 mb50">
                   <div class="data-table">
                        <table
                                class="table table-bordered table-hover table-condensed">
                            <thead class="bg-gray-white">
                            <tr class="text-center">
                                <th>选中</th>
                                <th>被邀请的供应商</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="text-center" ng-repeat="row in monitorBidPriceData"
                                ng-class="{'active':monitorBidPriceData.selectRow==$index}"
                                ng-click="monitorBidPriceData.selectRow=row.bidHeaderId;queryBidparams(row.supplierId)">

                                <td class="tc w40" style=" padding: 2px;"><input type="radio" name="supplierlist" id="radio{{row.bidHeaderId}}"
                                                                                 ng-checked="monitorBidPriceData.selectRow==row.bidHeaderId"></td>
                                <td>{{row.supplierName}}</td>
                            </tr>


                            </tbody>
                        </table>
                    </div>
                </div>-->
                    <div class="pl30" class="form-group col-xs-12 col-md-12" ng-repeat="row in monitorBidPriceData" style="margin-top: 10px;">
                        <i class="fa fa-caret-down"  ng-class="{true : 'fa-caret-right',false : 'fa-caret-down' }[row.isSelected]" aria-hidden="true" style="font-size: 22px;cursor: pointer;" ng-click="showBidList($index)"></i>
                        <span style="font-size: 18px">{{row.supplierName}}</span>
                        <div class="data-table" ng-if="!row.isSelected">
                            <div  ng-if="row.quatationData.isQuit=='Y'" class="form-group col-xs-12 col-md-12">
                                <div class="input-group input-group-xs">
                                    <label class="input-group-addon bn"><span
                                            class="w100">{{ $l('退出原因')}}</span></label>
                                    <input type="text" class="form-control radius3" disabled
                                             ng-model="row.quatationData.reason">
                                </div>
                            </div>
                            <table ng-if="row.quatationData.isQuit!='Y'"
                                    class="table table-bordered table-hover table-condensed">
                                <thead class="bg-gray-white">
                                <tr class="text-center">
                                    <th>{{ $l('报价编号')}}</th>
                                    <th>{{ $l('联系人')}}</th>
                                    <th>{{ $l('报价状态')}}</th>
                                    <th>{{ $l('创建日期')}}</th>
                                    <th>{{ $l('提交日期')}}</th>
                                    <th>{{ $l('操作')}}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="text-center" >
                                    <td >{{row.quatationData.quotationNumber}}</td>
                                    <td > {{row.quatationData.contactName}}</td>
                                    <td >
                                        <select class="form-control input-xs" disabled
                                                 ng-model="row.quatationData.docStatus">
                                            <option saaf-select-lookupcode="EQU_PON_QUOTATION_DOC_STATUS"></option>
                                        </select>
                                    </td>
                                    <td>{{row.quatationData.creationDate}}</td>
                                    <td>{{row.quatationData.commitTime}}</td>
                                    <td><button type="button" class="btn btn-primary" ng-if="params.createdBy ==params.userId" ng-disabled="params.supplierConfirmFlag=='Y'||row.quatationData.docStatus!='STOP'" ng-click="monitoring(row.quatationData)">
                                        <i class="fa mr5"></i>{{ $l('允许供应商修改')}}
                                    </button></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="data-table" ng-if="!row.isSelected">
                            <table ng-if="row.quatationData.isQuit!='Y'"
                                    class="table table-bordered table-hover table-condensed">
                                <thead class="bg-gray-white">
                                <tr class="text-center">
                                    <th>{{ $l('文件名称')}}</th>
                                    <th>{{ $l('说明')}}</th>
                                    <th>{{ $l('报价附件')}}</th>
                                    <th>{{ $l('上传时间日期')}}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="text-center" ng-repeat="bidList in row.fileData"
                                    ng-if="(bidList.fileType=='NonPriceSelectFile'&&bidList.selectedFlag=='Y')||bidList.fileType!='NonPriceSelectFile'"
                                    ng-class="{'active':bidparamsTable.data.selectRow==row.bidHeaderId}"
                                    ng-click="bidparamsTable.selectRow=row.bidHeaderId">
                                    <td ng-if="bidList.fileType !='PriceFile'">
                                        <input type="text" disabled class="form-control radius3"
                                                                                       ng-model="bidList.attachmentName"/>
                                    </td>
                                    <td ng-if="bidList.fileType =='PriceFile'">
                                        <select disabled class="form-control radius3"  ng-model="bidList.attachmentName" >
                                            <option saaf-select-lookupcode= "EQU_PROJECT_PRICE_FILE_NAME"></option>
                                        </select>
                                    </td>
                                    <td >{{bidList.description}}</td>
                                    <td ng-if="params.informationStatus!='30'|| (bidList.fileType =='PriceFile'&& bidList.scoringStatus !='30')">{{bidList.supplierFileName}}</td>
                                    <td ng-if="(params.informationStatus=='30'&& bidList.fileType !='PriceFile')||(bidList.fileType =='PriceFile'&& bidList.scoringStatus =='30')">
                                        <div class="btn-group btn-group-xs" style="">
                                            <span class="input-group-addon bn"
                                                  ng-if="bidList.supplierFilePath!=null && bidList.supplierFilePath!=''"
                                                  style="width: 230px;text-align: left;height:23px;display:inline-block;">
                                                    <a class="ellipsis" style="color:blue;display: block;width: 220px;"
                                                       href="{{bidList.supplierFilePath}}"
                                                       target="_blank">{{bidList.supplierFileName}}
                                                    </a>
                                            </span>
                                        </div>
                                    </td>
                                    <td >{{bidList.upDate}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    </div>
                <div>

            </div>
        </div>
    </form>
</div>