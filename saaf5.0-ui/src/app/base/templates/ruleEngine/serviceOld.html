<div ng-controller="serviceCtrlOld">
    <div class="form bg-white" inner-frame data-des="此节点必需－内框页面的指令">
        <div class="bg-gray-white bt">
            <div class="bg-gray-white p5">
                <div class="btn-group btn-group-xs pull-right ml10" id="outputButton">
                    <button class="btn btn-default" ng-click="addServer()" ng-show="actionStatus"><i class="fa fa-plus" aria-hidden="true"></i>新增</button>
                </div>

                <div class="btn-group btn-group-xs ">
                    <button class="btn btn-primary" ng-click="fullWindow($event)"><i class="fa fa-square-o"></i>数据全屏</button>
                </div>
            </div>
        </div>

        <div class="bg-white h" main-scroll-style>
            <div class="col-xs-6 col-md-2 br h p0" style="margin-right: -1px;">
                <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
                    <div class="nicescroll-height  bg-white " ng-nicescroll
                         nice-option="{cursorcolor: '#998279',cursorwidth:10}" data-des="此节点必需-滚动内容及指令">
                        <div class="data-table">
                            <table saaf-table="businessTable" data-url="queryBusinessLine" data-params="businessParams" data-page-rows="-1" class="table table-hover table-condensed" style="border: 1px solid #ddd;">
                                <thead class="bg-gray-white">
                                <tr class="text-center">
                                    <th>业务类型</th>
                                </tr>
                                </thead>
                                <tbody ng-show="businessTable.data.length<1">
                                <tr><td colspan="1">暂无数据</td></tr>
                                </tbody>
                                <tbody ng-show="businessTable.data.length>0">
                                <tr>
                                    <td colspan="1">
                                        <input class="form-control" placeholder="搜索业务线…" ng-model="businessParams.var_like_ruleBusinessLineName">
                                    </td>
                                </tr>
                                <tr class="text-center" ng-repeat="item in businessTable.data | filter:{ruleBusinessLineName:businessParams.var_like_ruleBusinessLineName}"
                                    ng-class="{'active':businessTable.data.selectRow==item.ruleBusinessLineId}">
                                    <td class="text-left" ng-click="businessTable.data.selectRow=item.ruleBusinessLineId;
                                            selectBusiness(item)">
                                        <span for="radio{{item.ruleBusinessLineId}}" style="text-align: left">{{item.ruleBusinessLineName}}</span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <!--<div saaf-table-tfoot="businessTable" ng-show="businessTable.data.length>0"></div>-->
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-md-10 br h p0" style="margin-right: -1px;" ng-show="serverTableStatus">
                <div main-scroll-style data-des="此节点必需－用户计算滚动区域高度">
                    <div class="nicescroll-height  bg-white " ng-nicescroll
                         nice-option="{cursorcolor: '#998279',cursorwidth:10}" data-des="此节点必需-滚动内容及指令">
                        <div class="data-table">
                            <table saaf-table="serverTable"
                                   data-url="saafWebserviceInfoServicesQuery"
                                   data-params="serverParams"
                                   data-page-rows="10"
                                   class="table table-bordered table-hover table-condensed">
                                <thead class="bg-gray-white">
                                <tr class="text-center">
                                    <th>序号</th>
                                    <th>服务名称</th>
                                    <th>服务URL</th>
                                    <th>请求参数</th>
                                    <th>返回参数</th>
                                    <th>服务类型</th>
                                    <th>服务协议</th>
                                    <th>服务编码</th>
                                    <th>服务描述</th>
                                    <!--<th>版本</th>-->
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody ng-show="!serverTable.data">
                                <tr>
                                    <td style="height: 200px" colspan="10"></td>
                                </tr>
                                </tbody>
                                <tbody ng-show="serverTable.data">
                                <tr class="text-center" ng-repeat="item in serverTable.data"
                                    ng-class="{'active':serverTable.data.selectRow==$index}"
                                    ng-click="serverTable.data.selectRow=$index">
                                    <td ng-bind="(serverTable.curIndex-1)*serverTable.pageSize+$index+1">1</td>
                                    <td>{{item.webserviceName}}</td>
                                    <td>{{item.webserviceUrl}}</td>
                                    <td>{{item.requestParamDemo}}</td>
                                    <td>{{item.responseParamDemo}}</td>
                                    <td>{{item.webserviceType}}</td>
                                    <td>{{item.websericeAgreement}}</td>
                                    <td>{{item.webserviceCode}}</td>
                                    <td>{{item.webserviceDesc}}</td>
                                    <!--<td>{{item.versionNum}}</td>-->
                                    <td>
                                        <div class="pos">
                                            <button style="border:0;background: none;" type="button" ng-click="updateServer(item)"><i style="left: 0;color: #3498db;" class="fa fa-pencil"></i></button>
                                            <button style="border:0;background: none;" type="button" ng-click="removeServer(item)"><i style="left: 32px;" class="fa fa-trash"></i></button>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <div saaf-table-tfoot="serverTable" ng-show="serverTable.data.length>0"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="modal fade" id="serverModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
         data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content modal-md">
                <form name="serverTemplateForm" ng-submit="confirmServer(serverTemplateForm.$invalid)">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title">
                            {{serverModalTitle}}
                        </h4>
                    </div>
                    <div class="modal-body ">
                        <div class="pl30 pr30">
                            <div class="row">
                                <div>
                                    <div class="form-group col-xs-11 col-md-6">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30"><i class="red">*</i>服务名称：</span></label>

                                            <input type="text" name="ruleBusDimValue" class="form-control radius3" required
                                                   ng-model="server.webserviceName">
                                        </div>
                                    </div>
                                    <!--<div class="form-group col-xs-11 col-md-6">-->
                                        <!--<div class="input-group input-group-xs">-->
                                            <!--<label class="input-group-addon bn"><span-->
                                                    <!--class="w100"><i class="red">*</i>业务线名称：</span></label>-->

                                            <!--<select type="text" class="form-control radius3" required-->
                                                    <!--ng-model="server.ruleBusTargetType" ng-options="busType.code as busType.name for busType in ruleBusTargetTypeData">-->
                                            <!--</select>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                    <div class="form-group col-xs-11 col-md-6">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30"><i class="red">*</i>服务协议：</span></label>
                                            <select type="text" class="form-control radius3" required ng-model="server.websericeAgreement"
                                                    ng-options="webserice as webserice for webserice in websericeAgreementData">
                                                <option></option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-group col-xs-11 col-md-6">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30"><i class="red">*</i>请求参数：</span></label>
                                            <input type="text" name="ruleBusDimValue" class="form-control radius3" required
                                                   ng-model="server.requestParamDemo">
                                        </div>
                                    </div>

                                    <div class="form-group col-xs-11 col-md-6">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30"><i class="red">*</i>返回参数：</span></label>
                                            <input type="text" name="ruleBusDimValue" class="form-control radius3" required
                                                   ng-model="server.responseParamDemo">
                                        </div>
                                    </div>

                                    <!--<div class="form-group col-xs-11 col-md-6">-->
                                        <!--<div class="input-group input-group-xs">-->
                                            <!--<label class="input-group-addon bn"><span-->
                                                    <!--class="w100"><i class="red">*</i>版本：</span></label>-->
                                            <!--<input type="text" name="ruleBusTargetSource" class="form-control radius3" required-->
                                                   <!--ng-model="server.ruleBusTargetSource">-->
                                        <!--</div>-->
                                    <!--</div>-->



                                    <div class="form-group col-xs-11 col-md-6">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30"><i class="red">*</i>服务类型：</span></label>
                                            <select type="text" class="form-control radius3" required ng-model="server.webserviceType"
                                                    ng-options="webserviceType as webserviceType for webserviceType in webserviceTypeData">
                                                <option></option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-group col-xs-11 col-md-12">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30"><i class="red">*</i>服务URL：</span></label>
                                            <input type="text" name="webserviceUrl" class="form-control radius3" required
                                                   ng-model="server.webserviceUrl">
                                        </div>
                                    </div>

                                    <div class="form-group col-xs-11 col-md-12">
                                        <div class="input-group input-group-xs">
                                            <label class="input-group-addon bn"><span
                                                    class="w30">服务描述：</span></label>
                                            <input type="text" name="webserviceDesc" class="form-control radius3"
                                                   ng-model="server.webserviceDesc">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer ">
                        <div style="text-align:center">
                            <button style="" type="button" class="btn btn-default" data-dismiss="modal" aria-hidden="true">取消</button>
                            <button type="submit" id="saveButton" class="btn btn-primary mr10">保存</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div><!-- /.modal -->
</div>